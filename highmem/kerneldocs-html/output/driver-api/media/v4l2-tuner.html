

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2.24. Tuner functions and data structures &mdash; The Linux Kernel 5.18.0-rc1-torvalds+ documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
  
    <link rel="stylesheet" href="../../_static/theme_rtd_colors.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="The Linux Kernel 5.18.0-rc1-torvalds+ documentation" href="../../index.html"/>
        <link rel="up" title="2. Video4Linux devices" href="v4l2-core.html"/>
        <link rel="next" title="2.25. V4L2 common functions and data structures" href="v4l2-common.html"/>
        <link rel="prev" title="2.23. V4L2 rect helper functions" href="v4l2-rect.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.18.0-rc2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../admin-guide/index.html">The Linux kernel user’s and administrator’s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kbuild/index.html">Kernel Build System</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../firmware-guide/index.html">The Linux kernel firmware guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devicetree/index.html">Open Firmware and Devicetree</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../userspace-api/index.html">The Linux kernel user-space API guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../process/index.html">Working with the kernel development community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-tools/index.html">Development tools for the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../doc-guide/index.html">How to write kernel documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kernel-hacking/index.html">Kernel Hacking Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../trace/index.html">Linux Tracing Technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../maintainer/index.html">Kernel Maintainer Handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fault-injection/index.html">fault-injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../livepatch/index.html">Kernel Livepatching</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">The Linux driver implementer’s API guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../driver-model/index.html">Driver Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basics.html">Driver Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../infrastructure.html">Device drivers infrastructure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ioctl.html">ioctl based interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../early-userspace/index.html">Early Userspace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pm/index.html">CPU and Device Power Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../clk.html">The Common Clk Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../device-io.html">Bus-Independent Device Accesses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dma-buf.html">Buffer Sharing and Synchronization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../device_link.html">Device links</a></li>
<li class="toctree-l2"><a class="reference internal" href="../component.html">Component Helper for Aggregate Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../message-based.html">Message-based devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../infiniband.html">InfiniBand and Remote DMA (RDMA) Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../frame-buffer.html">Frame Buffer Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../regulator.html">Voltage and current regulator API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reset.html">Reset controller API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio/index.html">Industrial I/O</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input.html">Input Subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usb/index.html">Linux USB API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../firewire.html">Firewire (IEEE 1394) driver Interface Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pci/index.html">The Linux PCI driver implementer’s API guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cxl/index.html">Compute Express Link</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spi.html">Serial Peripheral Interface (SPI)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../i2c.html">I<sup>2</sup>C and SMBus Subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ipmb.html">IPMB Driver for a Satellite MC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ipmi.html">The Linux IPMI Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="../i3c/index.html">I3C subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interconnect.html">Generic System Interconnect Subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devfreq.html">Device Frequency Scaling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hsi.html">High Speed Synchronous Serial Interface (HSI)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../edac.html">Error Detection And Correction (EDAC) Devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scsi.html">SCSI Interfaces Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libata.html">libATA Developer’s Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../target.html">target and iSCSI Interfaces Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mailbox.html">The Common Mailbox Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mtdnand.html">MTD NAND Driver Programming Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../miscellaneous.html">Parallel Port Devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../miscellaneous.html#x50-uart-driver">16x50 UART Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="../miscellaneous.html#pulse-width-modulation-pwm">Pulse-Width Modulation (PWM)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mei/index.html">Intel(R) Management Engine Interface (Intel(R) MEI)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mtd/index.html">Memory Technology Device (MTD)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mmc/index.html">MMC/SD/SDIO card support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nvdimm/index.html">Non-Volatile Memory Device (NVDIMM)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../w1.html">W1: Dallas’ 1-wire bus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapidio/index.html">The Linux RapidIO Subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../s390-drivers.html">Writing s390 channel device drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vme.html">VME Device Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../80211/index.html">Linux 802.11 Driver Developer’s Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../uio-howto.html">The Userspace I/O HOWTO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../firmware/index.html">Linux Firmware API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pin-control.html">PINCTRL (PIN CONTROL) subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gpio/index.html">General Purpose Input/Output (GPIO)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../md/index.html">RAID</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Media subsystem kernel internal API</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="maintainer-entry-profile.html">1. Media Subsystem Profile</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="v4l2-core.html">2. Video4Linux devices</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="v4l2-intro.html">2.1. Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-intro.html#structure-of-a-v4l-driver">2.2. Structure of a V4L driver</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-intro.html#structure-of-the-v4l2-framework">2.3. Structure of the V4L2 framework</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-dev.html">2.4. Video device’ s internal representation</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-device.html">2.5. V4L2 device instance</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-fh.html">2.6. V4L2 File handlers</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-subdev.html">2.7. V4L2 sub-devices</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-subdev.html#v4l2-sub-device-userspace-api">2.8. V4L2 sub-device userspace API</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-subdev.html#read-only-sub-device-userspace-api">2.9. Read-only sub-device userspace API</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-subdev.html#i2c-sub-device-drivers">2.10. I2C sub-device drivers</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-subdev.html#v4l2-sub-device-functions-and-data-structures">2.11. V4L2 sub-device functions and data structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-event.html">2.12. V4L2 events</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-controls.html">2.13. V4L2 Controls</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-videobuf.html">2.14. Videobuf Framework</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-videobuf2.html">2.15. V4L2 videobuf2 functions and data structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-dv-timings.html">2.16. V4L2 DV Timings functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-flash-led-class.html">2.17. V4L2 flash functions and data structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-mc.html">2.18. V4L2 Media Controller functions and data structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-mediabus.html">2.19. V4L2 Media Bus functions and data structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-mem2mem.html">2.20. V4L2 Memory to Memory functions and data structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-async.html">2.21. V4L2 async kAPI</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-fwnode.html">2.22. V4L2 fwnode kAPI</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-rect.html">2.23. V4L2 rect helper functions</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">2.24. Tuner functions and data structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-common.html">2.25. V4L2 common functions and data structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-tveeprom.html">2.26. Hauppauge TV EEPROM functions and data structures</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="dtv-core.html">3. Digital TV (DVB) devices</a></li>
<li class="toctree-l3"><a class="reference internal" href="rc-core.html">4. Remote Controller devices</a></li>
<li class="toctree-l3"><a class="reference internal" href="mc-core.html">5. Media Controller devices</a></li>
<li class="toctree-l3"><a class="reference internal" href="cec-core.html">6. CEC Kernel Support</a></li>
<li class="toctree-l3"><a class="reference internal" href="tx-rx.html">7. Pixel data transmitter and receiver drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="camera-sensor.html">8. Writing camera sensor drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="drivers/index.html">9. Media driver-specific documentation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../misc_devices.html">Miscellaneous Devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nfc/index.html">Near Field Communication</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dmaengine/index.html">DMAEngine documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../slimbus.html">Linux kernel SLIMbus support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../soundwire/index.html">SoundWire Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../thermal/index.html">Thermal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fpga/index.html">FPGA Subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../acpi/index.html">ACPI Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../auxiliary_bus.html">Auxiliary Bus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../backlight/lp855x-driver.html">Kernel driver lp855x</a></li>
<li class="toctree-l2"><a class="reference internal" href="../connector.html">Kernel Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../console.html">Console Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dcdbas.html">Dell Systems Management Base Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="../eisa.html">EISA bus support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../isa.html">ISA Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../isapnp.html">ISA Plug &amp; Play support by Jaroslav Kysela &lt;perex&#64;suse.cz&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../io-mapping.html">The io_mapping functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../io_ordering.html">Ordering I/O writes to memory-mapped addresses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generic-counter.html">Generic Counter Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../memory-devices/index.html">Memory Controller drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../men-chameleon-bus.html">MEN Chameleon Bus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ntb.html">NTB Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nvmem.html">NVMEM Subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../parport-lowlevel.html">PARPORT interface documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pps.html">PPS - Pulse Per Second</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ptp.html">PTP hardware clock infrastructure for Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../phy/index.html">Generic PHY Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pwm.html">Pulse Width Modulation (PWM) interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pldmfw/index.html">PLDM Firmware Flash Update Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pldmfw/index.html#overview-of-the-pldmfw-library">Overview of the <code class="docutils literal notranslate"><span class="pre">pldmfw</span></code> library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rfkill.html">rfkill - RF kill switch support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../serial/index.html">Support for Serial devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sm501.html">SM501 Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="../surface_aggregator/index.html">Surface System Aggregator Module (SSAM)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../switchtec.html">Linux Switchtec Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sync_file.html">Sync File API Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vfio-mediated-device.html">VFIO Mediated devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vfio.html">VFIO - “Virtual Function I/O” </a></li>
<li class="toctree-l2"><a class="reference internal" href="../vfio-pci-device-specific-driver-acceptance.html">Acceptance criteria for vfio-pci device specific driver variants</a></li>
<li class="toctree-l2"><a class="reference internal" href="../xilinx/index.html">Xilinx FPGA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../xillybus.html">Xillybus driver for generic FPGA interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../zorro.html">Writing Device Drivers for Zorro Devices</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../core-api/index.html">Core API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../locking/index.html">locking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../accounting/index.html">Accounting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../block/index.html">Block</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cdrom/index.html">cdrom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cpu-freq/index.html">Linux CPUFreq - CPU frequency and voltage scaling code in the Linux(TM) kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ide/index.html">Integrated Drive Electronics (IDE)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fb/index.html">Frame Buffer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fpga/index.html">fpga</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hid/index.html">Human Interface Devices (HID)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../i2c/index.html">I2C/SMBus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../iio/index.html">Industrial I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../isdn/index.html">ISDN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../infiniband/index.html">InfiniBand</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../leds/index.html">LEDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../netlabel/index.html">NetLabel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../networking/index.html">Linux Networking Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pcmcia/index.html">pcmcia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../power/index.html">Power Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../target/index.html">TCM Virtual Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../timers/index.html">timers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../spi/index.html">Serial Peripheral Interface (SPI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../w1/index.html">1-Wire Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../watchdog/index.html">Linux Watchdog Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../virt/index.html">Linux Virtualization Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../input/index.html">The Linux Input Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hwmon/index.html">Linux Hardware Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gpu/index.html">Linux GPU Driver Developer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security/index.html">Security Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sound/index.html">Linux Sound Subsystem Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../crypto/index.html">Linux Kernel Crypto API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/index.html">Filesystems in the Linux kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../vm/index.html">Linux Memory Management Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bpf/index.html">BPF Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usb/index.html">USB support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../PCI/index.html">Linux PCI Bus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../scsi/index.html">Linux SCSI Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../misc-devices/index.html">Assorted Miscellaneous Devices Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../scheduler/index.html">Linux Scheduler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mhi/index.html">MHI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tty/index.html">TTY</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../peci/index.html">Linux PECI Subsystem</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../asm-annotations.html">Assembler Annotations</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../arch.html">CPU Architectures</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tools/index.html">Kernel tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../staging/index.html">Unsorted Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../staging/index.html#atomic-types">Atomic Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../staging/index.html#atomic-bitops">Atomic bitops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../staging/index.html#memory-barriers">Memory Barriers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../watch_queue.html">General notification mechanism</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../translations/index.html">Translations</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">The Linux Kernel</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">The Linux driver implementer’s API guide</a> &raquo;</li>
        
          <li><a href="index.html">Media subsystem kernel internal API</a> &raquo;</li>
        
          <li><a href="v4l2-core.html">2. Video4Linux devices</a> &raquo;</li>
        
      <li>2.24. Tuner functions and data structures</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/driver-api/media/v4l2-tuner.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="tuner-functions-and-data-structures">
<h1>2.24. Tuner functions and data structures<a class="headerlink" href="#tuner-functions-and-data-structures" title="Permalink to this headline">¶</a></h1>
<dl class="type">
<dt id="c.tuner_mode">
enum <code class="descname">tuner_mode</code><a class="headerlink" href="#c.tuner_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Mode of the tuner</p>
</dd></dl>

<p><strong>Constants</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">T_RADIO</span></code></dt>
<dd>Tuner core will work in radio mode</dd>
<dt><code class="docutils literal notranslate"><span class="pre">T_ANALOG_TV</span></code></dt>
<dd>Tuner core will work in analog TV mode</dd>
</dl>
<p><strong>Description</strong></p>
<p>Older boards only had a single tuner device, but some devices have a
separate tuner for radio. In any case, the tuner-core needs to know if
the tuner chip(s) will be used in radio mode or analog TV mode, as, on
radio mode, frequencies are specified on a different range than on TV
mode. This enum is used by the tuner core in order to work with the
proper tuner range and eventually use a different tuner chip while in
radio mode.</p>
<dl class="type">
<dt id="c.tuner_setup">
struct <code class="descname">tuner_setup</code><a class="headerlink" href="#c.tuner_setup" title="Permalink to this definition">¶</a></dt>
<dd><p>setup the tuner chipsets</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct tuner_setup {
  unsigned short  addr;
  unsigned int    type;
  unsigned int    mode_mask;
  void *config;
  int (*tuner_callback)(void *dev, int component, int cmd, int arg);
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">addr</span></code></dt>
<dd>I2C address used to control the tuner device/chipset</dd>
<dt><code class="docutils literal notranslate"><span class="pre">type</span></code></dt>
<dd>Type of the tuner, as defined at the TUNER_* macros.
Each different tuner model should have an unique
identifier.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">mode_mask</span></code></dt>
<dd>Mask with the allowed tuner modes: V4L2_TUNER_RADIO,
V4L2_TUNER_ANALOG_TV and/or V4L2_TUNER_DIGITAL_TV,
describing if the tuner should be used to support
Radio, analog TV and/or digital TV.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">config</span></code></dt>
<dd>Used to send tuner-specific configuration for complex
tuners that require extra parameters to be set.
Only a very few tuners require it and its usage on
newer tuners should be avoided.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">tuner_callback</span></code></dt>
<dd>Some tuners require to call back the bridge driver,
in order to do some tasks like rising a GPIO at the
bridge chipset, in order to do things like resetting
the device.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Older boards only had a single tuner device. Nowadays multiple tuner
devices may be present on a single board. Using TUNER_SET_TYPE_ADDR
to pass the tuner_setup structure it is possible to setup each tuner
device in turn.</p>
<p>Since multiple devices may be present it is no longer sufficient to
send a command to a single i2c device. Instead you should broadcast
the command to all i2c devices.</p>
<p>By setting the mode_mask correctly you can select which commands are
accepted by a specific tuner device. For example, set mode_mask to
T_RADIO if the device is a radio-only tuner. That specific tuner will
only accept commands when the tuner is in radio mode and ignore them
when the tuner is set to TV mode.</p>
<dl class="type">
<dt id="c.param_type">
enum <code class="descname">param_type</code><a class="headerlink" href="#c.param_type" title="Permalink to this definition">¶</a></dt>
<dd><p>type of the tuner pameters</p>
</dd></dl>

<p><strong>Constants</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">TUNER_PARAM_TYPE_RADIO</span></code></dt>
<dd>Tuner params are for FM and/or AM radio</dd>
<dt><code class="docutils literal notranslate"><span class="pre">TUNER_PARAM_TYPE_PAL</span></code></dt>
<dd>Tuner params are for PAL color TV standard</dd>
<dt><code class="docutils literal notranslate"><span class="pre">TUNER_PARAM_TYPE_SECAM</span></code></dt>
<dd>Tuner params are for SECAM color TV standard</dd>
<dt><code class="docutils literal notranslate"><span class="pre">TUNER_PARAM_TYPE_NTSC</span></code></dt>
<dd>Tuner params are for NTSC color TV standard</dd>
<dt><code class="docutils literal notranslate"><span class="pre">TUNER_PARAM_TYPE_DIGITAL</span></code></dt>
<dd>Tuner params are for digital TV</dd>
</dl>
<dl class="type">
<dt id="c.tuner_range">
struct <code class="descname">tuner_range</code><a class="headerlink" href="#c.tuner_range" title="Permalink to this definition">¶</a></dt>
<dd><p>define the frequencies supported by the tuner</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct tuner_range {
  unsigned short limit;
  unsigned char config;
  unsigned char cb;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">limit</span></code></dt>
<dd>Max frequency supported by that range, in 62.5 kHz
(TV) or 62.5 Hz (Radio), as defined by
V4L2_TUNER_CAP_LOW.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">config</span></code></dt>
<dd>Value of the band switch byte (BB) to setup this mode.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">cb</span></code></dt>
<dd>Value of the CB byte to setup this mode.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Please notice that digital tuners like xc3028/xc4000/xc5000 don’t use
those ranges, as they’re defined inside the driver. This is used by
analog tuners that are compatible with the “Philips way” to setup the
tuners. On those devices, the tuner set is done via 4 bytes:</p>
<blockquote>
<div><ol class="arabic simple">
<li>divider byte1 (DB1)</li>
<li>divider byte 2 (DB2)</li>
<li>Control byte (CB)</li>
<li>band switch byte (BB)</li>
</ol>
</div></blockquote>
<p>Some tuners also have an additional optional Auxiliary byte (AB).</p>
<dl class="type">
<dt id="c.tuner_params">
struct <code class="descname">tuner_params</code><a class="headerlink" href="#c.tuner_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameters to be used to setup the tuner. Those are used by drivers/media/tuners/tuner-types.c in order to specify the tuner properties. Most of the parameters are for tuners based on tda9887 IF-PLL multi-standard analog TV/Radio demodulator, with is very common on legacy analog tuners.</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct tuner_params {
  enum param_type type;
  unsigned int cb_first_if_lower_freq:1;
  unsigned int has_tda9887:1;
  unsigned int port1_fm_high_sensitivity:1;
  unsigned int port2_fm_high_sensitivity:1;
  unsigned int fm_gain_normal:1;
  unsigned int intercarrier_mode:1;
  unsigned int port1_active:1;
  unsigned int port2_active:1;
  unsigned int port1_invert_for_secam_lc:1;
  unsigned int port2_invert_for_secam_lc:1;
  unsigned int port1_set_for_fm_mono:1;
  unsigned int default_pll_gating_18:1;
  unsigned int radio_if:2;
  signed int default_top_low:5;
  signed int default_top_mid:5;
  signed int default_top_high:5;
  signed int default_top_secam_low:5;
  signed int default_top_secam_mid:5;
  signed int default_top_secam_high:5;
  u16 iffreq;
  unsigned int count;
  struct tuner_range *ranges;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">type</span></code></dt>
<dd>Type of the tuner parameters, as defined at
<a class="reference internal" href="#c.param_type" title="param_type"><code class="xref c c-type docutils literal notranslate"><span class="pre">enum</span> <span class="pre">param_type</span></code></a>. If the tuner supports multiple
standards, an array should be used, with one
row per different standard.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">cb_first_if_lower_freq</span></code></dt>
<dd>Many Philips-based tuners have a comment in
their datasheet like
“For channel selection involving band
switching, and to ensure smooth tuning to the
desired channel without causing unnecessary
charge pump action, it is recommended to
consider the difference between wanted channel
frequency and the current channel frequency.
Unnecessary charge pump action will result
in very low tuning voltage which may drive the
oscillator to extreme conditions”.
Set cb_first_if_lower_freq to 1, if this check
is required for this tuner. I tested this for
PAL by first setting the TV frequency to
203 MHz and then switching to 96.6 MHz FM
radio. The result was static unless the
control byte was sent first.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">has_tda9887</span></code></dt>
<dd>Set to 1 if this tuner uses a tda9887</dd>
<dt><code class="docutils literal notranslate"><span class="pre">port1_fm_high_sensitivity</span></code></dt>
<dd>Many Philips tuners use tda9887 PORT1 to select
the FM radio sensitivity. If this setting is 1,
then set PORT1 to 1 to get proper FM reception.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">port2_fm_high_sensitivity</span></code></dt>
<dd>Some Philips tuners use tda9887 PORT2 to select
the FM radio sensitivity. If this setting is 1,
then set PORT2 to 1 to get proper FM reception.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">fm_gain_normal</span></code></dt>
<dd>Some Philips tuners use tda9887 cGainNormal to
select the FM radio sensitivity. If this
setting is 1, e register will use cGainNormal
instead of cGainLow.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">intercarrier_mode</span></code></dt>
<dd>Most tuners with a tda9887 use QSS mode.
Some (cheaper) tuners use Intercarrier mode.
If this setting is 1, then the tuner needs to
be set to intercarrier mode.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">port1_active</span></code></dt>
<dd>This setting sets the default value for PORT1.
0 means inactive, 1 means active. Note: the
actual bit value written to the tda9887 is
inverted. So a 0 here means a 1 in the B6 bit.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">port2_active</span></code></dt>
<dd>This setting sets the default value for PORT2.
0 means inactive, 1 means active. Note: the
actual bit value written to the tda9887 is
inverted. So a 0 here means a 1 in the B7 bit.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">port1_invert_for_secam_lc</span></code></dt>
<dd>Sometimes PORT1 is inverted when the SECAM-L’
standard is selected. Set this bit to 1 if this
is needed.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">port2_invert_for_secam_lc</span></code></dt>
<dd>Sometimes PORT2 is inverted when the SECAM-L’
standard is selected. Set this bit to 1 if this
is needed.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">port1_set_for_fm_mono</span></code></dt>
<dd>Some cards require PORT1 to be 1 for mono Radio
FM and 0 for stereo.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">default_pll_gating_18</span></code></dt>
<dd>Select 18% (or according to datasheet 0%)
L standard PLL gating, vs the driver default
of 36%.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">radio_if</span></code></dt>
<dd>IF to use in radio mode.  Tuners with a
separate radio IF filter seem to use 10.7,
while those without use 33.3 for PAL/SECAM
tuners and 41.3 for NTSC tuners.
0 = 10.7, 1 = 33.3, 2 = 41.3</dd>
<dt><code class="docutils literal notranslate"><span class="pre">default_top_low</span></code></dt>
<dd>Default tda9887 TOP value in dB for the low
band. Default is 0. Range: -16:+15</dd>
<dt><code class="docutils literal notranslate"><span class="pre">default_top_mid</span></code></dt>
<dd>Default tda9887 TOP value in dB for the mid
band. Default is 0. Range: -16:+15</dd>
<dt><code class="docutils literal notranslate"><span class="pre">default_top_high</span></code></dt>
<dd>Default tda9887 TOP value in dB for the high
band. Default is 0. Range: -16:+15</dd>
<dt><code class="docutils literal notranslate"><span class="pre">default_top_secam_low</span></code></dt>
<dd>Default tda9887 TOP value in dB for SECAM-L/L’
for the low band. Default is 0. Several tuners
require a different TOP value for the
SECAM-L/L’ standards. Range: -16:+15</dd>
<dt><code class="docutils literal notranslate"><span class="pre">default_top_secam_mid</span></code></dt>
<dd>Default tda9887 TOP value in dB for SECAM-L/L’
for the mid band. Default is 0. Several tuners
require a different TOP value for the
SECAM-L/L’ standards. Range: -16:+15</dd>
<dt><code class="docutils literal notranslate"><span class="pre">default_top_secam_high</span></code></dt>
<dd>Default tda9887 TOP value in dB for SECAM-L/L’
for the high band. Default is 0. Several tuners
require a different TOP value for the
SECAM-L/L’ standards. Range: -16:+15</dd>
<dt><code class="docutils literal notranslate"><span class="pre">iffreq</span></code></dt>
<dd>Intermediate frequency (IF) used by the tuner
on digital mode.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">count</span></code></dt>
<dd>Size of the ranges array.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ranges</span></code></dt>
<dd>Array with the frequency ranges supported by
the tuner.</dd>
</dl>
<dl class="type">
<dt id="c.tunertype">
struct <code class="descname">tunertype</code><a class="headerlink" href="#c.tunertype" title="Permalink to this definition">¶</a></dt>
<dd><p>describes the known tuners.</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct tunertype {
  char *name;
  unsigned int count;
  struct tuner_params *params;
  u16 min;
  u16 max;
  u32 stepsize;
  u8 *initdata;
  u8 *sleepdata;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">name</span></code></dt>
<dd>string with the tuner’s name.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">count</span></code></dt>
<dd>size of <a class="reference internal" href="#c.tuner_params" title="tuner_params"><code class="xref c c-type docutils literal notranslate"><span class="pre">struct</span> <span class="pre">tuner_params</span></code></a> array.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">params</span></code></dt>
<dd>pointer to <a class="reference internal" href="#c.tuner_params" title="tuner_params"><code class="xref c c-type docutils literal notranslate"><span class="pre">struct</span> <span class="pre">tuner_params</span></code></a> array.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">min</span></code></dt>
<dd>minimal tuner frequency, in 62.5 kHz step.
should be multiplied to 16 to convert to MHz.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">max</span></code></dt>
<dd>minimal tuner frequency, in 62.5 kHz step.
Should be multiplied to 16 to convert to MHz.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">stepsize</span></code></dt>
<dd>frequency step, in Hz.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">initdata</span></code></dt>
<dd>optional byte sequence to initialize the tuner.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sleepdata</span></code></dt>
<dd>optional byte sequence to power down the tuner.</dd>
</dl>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="v4l2-common.html" class="btn btn-neutral float-right" title="2.25. V4L2 common functions and data structures" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="v4l2-rect.html" class="btn btn-neutral" title="2.23. V4L2 rect helper functions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'5.18.0-rc1-torvalds+',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>