

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Marvell(Aquantia) AQtion Driver &mdash; The Linux Kernel 5.18.0-rc1-torvalds+ documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../../../_static/theme_overrides.css" type="text/css" />
  
    <link rel="stylesheet" href="../../../../_static/theme_rtd_colors.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../../search.html"/>
    <link rel="top" title="The Linux Kernel 5.18.0-rc1-torvalds+ documentation" href="../../../../index.html"/>
        <link rel="up" title="Ethernet Device Drivers" href="../index.html"/>
        <link rel="next" title="Chelsio N210 10Gb Ethernet Network Controller" href="../chelsio/cxgb.html"/>
        <link rel="prev" title="Altera Triple-Speed Ethernet MAC driver" href="../altera/altera_tse.html"/> 

  
  <script src="../../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.18.0-rc2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../admin-guide/index.html">The Linux kernel user’s and administrator’s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../kbuild/index.html">Kernel Build System</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../firmware-guide/index.html">The Linux kernel firmware guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../devicetree/index.html">Open Firmware and Devicetree</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../userspace-api/index.html">The Linux kernel user-space API guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../process/index.html">Working with the kernel development community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../dev-tools/index.html">Development tools for the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../doc-guide/index.html">How to write kernel documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../kernel-hacking/index.html">Kernel Hacking Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../trace/index.html">Linux Tracing Technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../maintainer/index.html">Kernel Maintainer Handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../fault-injection/index.html">fault-injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../livepatch/index.html">Kernel Livepatching</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../driver-api/index.html">The Linux driver implementer’s API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../core-api/index.html">Core API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../locking/index.html">locking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../accounting/index.html">Accounting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../block/index.html">Block</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../cdrom/index.html">cdrom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../cpu-freq/index.html">Linux CPUFreq - CPU frequency and voltage scaling code in the Linux(TM) kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ide/index.html">Integrated Drive Electronics (IDE)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../fb/index.html">Frame Buffer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../fpga/index.html">fpga</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../hid/index.html">Human Interface Devices (HID)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../i2c/index.html">I2C/SMBus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../iio/index.html">Industrial I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../isdn/index.html">ISDN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../infiniband/index.html">InfiniBand</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../leds/index.html">LEDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../netlabel/index.html">NetLabel</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">Linux Networking Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../af_xdp.html">AF_XDP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../bareudp.html">Bare UDP Tunnelling Module Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../batman-adv.html">batman-adv</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../can.html">SocketCAN - Controller Area Network</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../can_ucan_protocol.html">The UCAN Protocol</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html">Hardware Device Drivers</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../appletalk/index.html">AppleTalk Device Drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../atm/index.html">Asynchronous Transfer Mode (ATM) Device Drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cable/index.html">Cable Modem Device Drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../can/index.html">Controller Area Network (CAN) Device Drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cellular/index.html">Cellular Modem Device Drivers</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">Ethernet Device Drivers</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../3com/3c509.html">Linux and the 3Com EtherLink III Series Ethercards (driver v1.18c and higher)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../3com/vortex.html">3Com Vortex device driver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../amazon/ena.html">Linux kernel driver for Elastic Network Adapter (ENA) family</a></li>
<li class="toctree-l4"><a class="reference internal" href="../altera/altera_tse.html">Altera Triple-Speed Ethernet MAC driver</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Marvell(Aquantia) AQtion Driver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../chelsio/cxgb.html">Chelsio N210 10Gb Ethernet Network Controller</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cirrus/cs89x0.html">Cirrus Logic LAN CS8900/CS8920 Ethernet Adapters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../dlink/dl2k.html">D-Link DL2000-based Gigabit Ethernet Adapter Installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../davicom/dm9000.html">DM9000 Network driver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../dec/de4x5.html">DEC EtherWORKS Ethernet De4x5 cards</a></li>
<li class="toctree-l4"><a class="reference internal" href="../dec/dmfe.html">Davicom DM9102(A)/DM9132/DM9801 fast ethernet driver for Linux</a></li>
<li class="toctree-l4"><a class="reference internal" href="../freescale/dpaa.html">The QorIQ DPAA Ethernet Driver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../freescale/dpaa2/index.html">DPAA2 Documentation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../freescale/gianfar.html">The Gianfar Ethernet Driver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../google/gve.html">Linux kernel driver for Compute Engine Virtual Ethernet (gve):</a></li>
<li class="toctree-l4"><a class="reference internal" href="../huawei/hinic.html">Linux Kernel Driver for Huawei Intelligent NIC(HiNIC) family</a></li>
<li class="toctree-l4"><a class="reference internal" href="../intel/e100.html">Linux Base Driver for the Intel(R) PRO/100 Family of Adapters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../intel/e1000.html">Linux Base Driver for Intel(R) Ethernet Network Connection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../intel/e1000e.html">Linux Driver for Intel(R) Ethernet Network Connection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../intel/fm10k.html">Linux Base Driver for Intel(R) Ethernet Multi-host Controller</a></li>
<li class="toctree-l4"><a class="reference internal" href="../intel/igb.html">Linux Base Driver for Intel(R) Ethernet Network Connection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../intel/igbvf.html">Linux Base Virtual Function Driver for Intel(R) 1G Ethernet</a></li>
<li class="toctree-l4"><a class="reference internal" href="../intel/ixgb.html">Linux Base Driver for 10 Gigabit Intel(R) Ethernet Network Connection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../intel/ixgbe.html">Linux Base Driver for the Intel(R) Ethernet 10 Gigabit PCI Express Adapters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../intel/ixgbevf.html">Linux Base Virtual Function Driver for Intel(R) 10G Ethernet</a></li>
<li class="toctree-l4"><a class="reference internal" href="../intel/i40e.html">Linux Base Driver for the Intel(R) Ethernet Controller 700 Series</a></li>
<li class="toctree-l4"><a class="reference internal" href="../intel/iavf.html">Linux Base Driver for Intel(R) Ethernet Adaptive Virtual Function</a></li>
<li class="toctree-l4"><a class="reference internal" href="../intel/ice.html">Linux Base Driver for the Intel(R) Ethernet Controller 800 Series</a></li>
<li class="toctree-l4"><a class="reference internal" href="../marvell/octeontx2.html">Marvell OcteonTx2 RVU Kernel Drivers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../mellanox/mlx5.html">Mellanox ConnectX(R) mlx5 core VPI Network Driver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../microsoft/netvsc.html">Hyper-V network driver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../neterion/s2io.html">Neterion’s (Formerly S2io) Xframe I/II PCI-X 10GbE driver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../neterion/vxge.html">Neterion’s (Formerly S2io) X3100 Series 10GbE PCIe Server Adapter Linux driver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../netronome/nfp.html">Netronome Flow Processor (NFP) Kernel Drivers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pensando/ionic.html">Linux Driver for the Pensando(R) Ethernet adapter family</a></li>
<li class="toctree-l4"><a class="reference internal" href="../smsc/smc9.html">SMC 9xxxx Driver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../stmicro/stmmac.html">Linux Driver for the Synopsys(R) Ethernet Controllers “stmmac”</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ti/cpsw.html">Texas Instruments CPSW ethernet driver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ti/cpsw_switchdev.html">Texas Instruments CPSW switchdev based ethernet driver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ti/am65_nuss_cpsw_switchdev.html">Texas Instruments K3 AM65 CPSW NUSS switchdev based ethernet driver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ti/tlan.html">TLAN driver for Linux</a></li>
<li class="toctree-l4"><a class="reference internal" href="../toshiba/spider_net.html">The Spidernet Device Driver</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../fddi/index.html">Fiber Distributed Data Interface (FDDI) Device Drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../hamradio/index.html">Amateur Radio Device Drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../qlogic/index.html">QLogic QLGE Device Drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../wan/index.html">Classic WAN Device Drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../wifi/index.html">Wi-Fi Device Drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../wwan/index.html">WWAN Device Drivers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../dsa/index.html">Distributed Switch Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../devlink/index.html">Linux Devlink Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../caif/index.html">CAIF</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../ethtool-netlink.html">Netlink interface for ethtool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../ieee802154.html">IEEE 802.15.4 Developer’s Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../j1939.html">J1939 Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../kapi.html">Linux Networking and Network Devices APIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../msg_zerocopy.html">MSG_ZEROCOPY</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../failover.html">FAILOVER</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../net_dim.html">Net DIM - Generic Network Dynamic Interrupt Moderation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../net_failover.html">NET_FAILOVER</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../page_pool.html">Page Pool API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../phy.html">PHY Abstraction Layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../sfp-phylink.html">phylink</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../alias.html">IP-Aliasing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../bridge.html">Ethernet Bridging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../snmp_counter.html">SNMP counter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../checksum-offloads.html">Checksum Offloads</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../segmentation-offloads.html">Segmentation Offloads</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../scaling.html">Scaling in the Linux Networking Stack</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../tls.html">Kernel TLS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../tls-offload.html">Kernel TLS offload</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../nfc.html">Linux NFC subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../6lowpan.html">Netdev private dataroom for 6lowpan interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../6pack.html">6pack Protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../arcnet-hardware.html">ARCnet Hardware</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../arcnet.html">ARCnet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../atm.html">ATM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../ax25.html">AX.25</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../bonding.html">Linux Ethernet Bonding Driver HOWTO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../cdc_mbim.html">cdc_mbim - Driver for CDC MBIM Mobile Broadband modems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../dccp.html">DCCP protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../dctcp.html">DCTCP (DataCenter TCP)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../decnet.html">Linux DECnet Networking Layer Information</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../dns_resolver.html">DNS Resolver Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../driver.html">Softnet Driver Issues</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../eql.html">EQL Driver: Serial IP Load Balancing HOWTO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../fib_trie.html">LC-trie implementation notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../filter.html">Linux Socket Filtering aka Berkeley Packet Filter (BPF)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generic-hdlc.html">Generic HDLC layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generic_netlink.html">Generic Netlink</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../gen_stats.html">Generic networking statistics for netlink users</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../gtp.html">The Linux kernel GTP tunneling module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../ila.html">Identifier Locator Addressing (ILA)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../ioam6-sysctl.html">IOAM6 Sysfs variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../ipddp.html">AppleTalk-IP Decapsulation and AppleTalk-IP Encapsulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../ip_dynaddr.html">IP dynamic address hack-port v0.03</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../ipsec.html">IPsec</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../ip-sysctl.html">IP Sysctl</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../ipv6.html">IPv6</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../ipvlan.html">IPVLAN Driver HOWTO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../ipvs-sysctl.html">IPvs-sysctl</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../kcm.html">Kernel Connection Multiplexor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../l2tp.html">L2TP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../lapb-module.html">The Linux LAPB Module Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../mac80211-injection.html">How to use packet injection with mac80211</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../mctp.html">Management Component Transport Protocol (MCTP)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../mpls-sysctl.html">MPLS Sysfs variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../mptcp-sysctl.html">MPTCP Sysfs variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../multiqueue.html">HOWTO for multiqueue network device support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../netconsole.html">Netconsole</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../netdev-features.html">Netdev features mess and how to get out from it alive</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../netdevices.html">Network Devices, the Kernel, and You!</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../netfilter-sysctl.html">Netfilter Sysfs variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../netif-msg.html">NETIF Msg Level</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../nexthop-group-resilient.html">Resilient Next-hop Groups</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../nf_conntrack-sysctl.html">Netfilter Conntrack Sysfs variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../nf_flowtable.html">Netfilter’s flowtable infrastructure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../openvswitch.html">Open vSwitch datapath developer documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../operstates.html">Operational States</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../packet_mmap.html">Packet MMAP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../phonet.html">Linux Phonet protocol family</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../pktgen.html">HOWTO for the linux packet generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../plip.html">PLIP: The Parallel Line Internet Protocol Device</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../ppp_generic.html">PPP Generic Driver and Channel Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../proc_net_tcp.html">The proc/net/tcp and proc/net/tcp6 variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../radiotap-headers.html">How to use radiotap headers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../rds.html">RDS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../regulatory.html">Linux wireless regulatory documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../rxrpc.html">RxRPC Network Protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../rxrpc.html#socket-options">SOCKET OPTIONS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../rxrpc.html#security">SECURITY</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../rxrpc.html#example-client-usage">EXAMPLE CLIENT USAGE</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../sctp.html">Linux Kernel SCTP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../secid.html">LSM/SeLinux secid</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../seg6-sysctl.html">Seg6 Sysfs variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../smc-sysctl.html">SMC Sysctl</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../statistics.html">Interface statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../strparser.html">Stream Parser (strparser)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../switchdev.html">Ethernet switch device driver model (switchdev)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../sysfs-tagging.html">Sysfs tagging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../tc-actions-env-rules.html">TC Actions - Environmental Rules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../tcp-thin.html">Thin-streams and TCP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../team.html">Team</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../timestamping.html">Timestamping</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../tipc.html">Linux Kernel TIPC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../tproxy.html">Transparent proxy support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../tuntap.html">Universal TUN/TAP device driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../udplite.html">The UDP-Lite protocol (RFC 3828)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../vrf.html">Virtual Routing and Forwarding (VRF)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../vxlan.html">Virtual eXtensible Local Area Networking documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../x25-iface.html">Packet Layer to Device Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../x25-iface.html#device-driver-to-packet-layer">Device Driver to Packet Layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../x25-iface.html#requirements-for-the-device-driver">Requirements for the device driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../x25.html">Linux X.25 Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../xfrm_device.html">XFRM device - offloading the IPsec computations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../xfrm_proc.html">XFRM proc - /proc/net/xfrm_* files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../xfrm_sync.html">XFRM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../xfrm_sysctl.html">XFRM Syscall</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../pcmcia/index.html">pcmcia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../power/index.html">Power Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../target/index.html">TCM Virtual Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../timers/index.html">timers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../spi/index.html">Serial Peripheral Interface (SPI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../w1/index.html">1-Wire Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../watchdog/index.html">Linux Watchdog Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../virt/index.html">Linux Virtualization Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../input/index.html">The Linux Input Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../hwmon/index.html">Linux Hardware Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../gpu/index.html">Linux GPU Driver Developer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../security/index.html">Security Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../sound/index.html">Linux Sound Subsystem Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../crypto/index.html">Linux Kernel Crypto API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../filesystems/index.html">Filesystems in the Linux kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../vm/index.html">Linux Memory Management Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../bpf/index.html">BPF Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../usb/index.html">USB support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../PCI/index.html">Linux PCI Bus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../scsi/index.html">Linux SCSI Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../misc-devices/index.html">Assorted Miscellaneous Devices Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../scheduler/index.html">Linux Scheduler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../mhi/index.html">MHI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tty/index.html">TTY</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../peci/index.html">Linux PECI Subsystem</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../asm-annotations.html">Assembler Annotations</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../arch.html">CPU Architectures</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../tools/index.html">Kernel tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../staging/index.html">Unsorted Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../staging/index.html#atomic-types">Atomic Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../staging/index.html#atomic-bitops">Atomic bitops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../staging/index.html#memory-barriers">Memory Barriers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../watch_queue.html">General notification mechanism</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../translations/index.html">Translations</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">The Linux Kernel</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../../index.html">Linux Networking Documentation</a> &raquo;</li>
        
          <li><a href="../../index.html">Hardware Device Drivers</a> &raquo;</li>
        
          <li><a href="../index.html">Ethernet Device Drivers</a> &raquo;</li>
        
      <li>Marvell(Aquantia) AQtion Driver</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../../_sources/networking/device_drivers/ethernet/aquantia/atlantic.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="marvell-aquantia-aqtion-driver">
<h1>Marvell(Aquantia) AQtion Driver<a class="headerlink" href="#marvell-aquantia-aqtion-driver" title="Permalink to this headline">¶</a></h1>
<p>For the aQuantia Multi-Gigabit PCI Express Family of Ethernet Adapters</p>
<div class="section" id="identifying-your-adapter">
<h2>Identifying Your Adapter<a class="headerlink" href="#identifying-your-adapter" title="Permalink to this headline">¶</a></h2>
<p>The driver in this release is compatible with AQC-100, AQC-107, AQC-108
based ethernet adapters.</p>
<div class="section" id="sfp-devices-for-aqc-100-based-adapters">
<h3>SFP+ Devices (for AQC-100 based adapters)<a class="headerlink" href="#sfp-devices-for-aqc-100-based-adapters" title="Permalink to this headline">¶</a></h3>
<p>This release tested with passive Direct Attach Cables (DAC) and SFP+/LC
Optical Transceiver.</p>
</div>
</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<div class="section" id="viewing-link-messages">
<h3>Viewing Link Messages<a class="headerlink" href="#viewing-link-messages" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Link messages will not be displayed to the console if the distribution is
restricting system messages. In order to see network driver link messages on
your console, set dmesg to eight by entering the following:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>dmesg -n 8
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This setting is not saved across reboots.</p>
</div>
</div></blockquote>
</div>
<div class="section" id="jumbo-frames">
<h3>Jumbo Frames<a class="headerlink" href="#jumbo-frames" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>The driver supports Jumbo Frames for all adapters. Jumbo Frames support is
enabled by changing the MTU to a value larger than the default of 1500.
The maximum value for the MTU is 16000.  Use the <cite>ip</cite> command to
increase the MTU size.  For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ip link set mtu 16000 dev enp1s0
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="ethtool">
<h3>ethtool<a class="headerlink" href="#ethtool" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div>The driver utilizes the ethtool interface for driver configuration and
diagnostics, as well as displaying statistical information. The latest
ethtool version is required for this functionality.</div></blockquote>
</div>
<div class="section" id="napi">
<h3>NAPI<a class="headerlink" href="#napi" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div>NAPI (Rx polling mode) is supported in the atlantic driver.</div></blockquote>
</div>
</div>
<div class="section" id="supported-ethtool-options">
<h2>Supported ethtool options<a class="headerlink" href="#supported-ethtool-options" title="Permalink to this headline">¶</a></h2>
<div class="section" id="viewing-adapter-settings">
<h3>Viewing adapter settings<a class="headerlink" href="#viewing-adapter-settings" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ethtool &lt;ethX&gt;
</pre></div>
</div>
<p>Output example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Settings for enp1s0:
  Supported ports: [ TP ]
  Supported link modes:   100baseT/Full
                          1000baseT/Full
                          10000baseT/Full
                          2500baseT/Full
                          5000baseT/Full
  Supported pause frame use: Symmetric
  Supports auto-negotiation: Yes
  Supported FEC modes: Not reported
  Advertised link modes:  100baseT/Full
                          1000baseT/Full
                          10000baseT/Full
                          2500baseT/Full
                          5000baseT/Full
  Advertised pause frame use: Symmetric
  Advertised auto-negotiation: Yes
  Advertised FEC modes: Not reported
  Speed: 10000Mb/s
  Duplex: Full
  Port: Twisted Pair
  PHYAD: 0
  Transceiver: internal
  Auto-negotiation: on
  MDI-X: Unknown
  Supports Wake-on: g
  Wake-on: d
  Link detected: yes
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>AQrate speeds (2.5/5 Gb/s) will be displayed only with linux kernels &gt; 4.10.
But you can still use these speeds:</p>
<div class="last highlight-none notranslate"><div class="highlight"><pre><span></span>ethtool -s eth0 autoneg off speed 2500
</pre></div>
</div>
</div>
</div></blockquote>
</div>
<div class="section" id="viewing-adapter-information">
<h3>Viewing adapter information<a class="headerlink" href="#viewing-adapter-information" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ethtool -i &lt;ethX&gt;
</pre></div>
</div>
<p>Output example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>driver: atlantic
version: 5.2.0-050200rc5-generic-kern
firmware-version: 3.1.78
expansion-rom-version:
bus-info: 0000:01:00.0
supports-statistics: yes
supports-test: no
supports-eeprom-access: no
supports-register-dump: yes
supports-priv-flags: no
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="viewing-ethernet-adapter-statistics">
<h3>Viewing Ethernet adapter statistics<a class="headerlink" href="#viewing-ethernet-adapter-statistics" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ethtool -S &lt;ethX&gt;
</pre></div>
</div>
<p>Output example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>NIC statistics:
   InPackets: 13238607
   InUCast: 13293852
   InMCast: 52
   InBCast: 3
   InErrors: 0
   OutPackets: 23703019
   OutUCast: 23704941
   OutMCast: 67
   OutBCast: 11
   InUCastOctects: 213182760
   OutUCastOctects: 22698443
   InMCastOctects: 6600
   OutMCastOctects: 8776
   InBCastOctects: 192
   OutBCastOctects: 704
   InOctects: 2131839552
   OutOctects: 226938073
   InPacketsDma: 95532300
   OutPacketsDma: 59503397
   InOctetsDma: 1137102462
   OutOctetsDma: 2394339518
   InDroppedDma: 0
   Queue[0] InPackets: 23567131
   Queue[0] OutPackets: 20070028
   Queue[0] InJumboPackets: 0
   Queue[0] InLroPackets: 0
   Queue[0] InErrors: 0
   Queue[1] InPackets: 45428967
   Queue[1] OutPackets: 11306178
   Queue[1] InJumboPackets: 0
   Queue[1] InLroPackets: 0
   Queue[1] InErrors: 0
   Queue[2] InPackets: 3187011
   Queue[2] OutPackets: 13080381
   Queue[2] InJumboPackets: 0
   Queue[2] InLroPackets: 0
   Queue[2] InErrors: 0
   Queue[3] InPackets: 23349136
   Queue[3] OutPackets: 15046810
   Queue[3] InJumboPackets: 0
   Queue[3] InLroPackets: 0
   Queue[3] InErrors: 0
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="interrupt-coalescing-support">
<h3>Interrupt coalescing support<a class="headerlink" href="#interrupt-coalescing-support" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>ITR mode, TX/RX coalescing timings could be viewed with:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ethtool -c &lt;ethX&gt;
</pre></div>
</div>
<p>and changed with:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ethtool -C &lt;ethX&gt; tx-usecs &lt;usecs&gt; rx-usecs &lt;usecs&gt;
</pre></div>
</div>
<p>To disable coalescing:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ethtool -C &lt;ethX&gt; tx-usecs 0 rx-usecs 0 tx-max-frames 1 tx-max-frames 1
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="wake-on-lan-support">
<h3>Wake on LAN support<a class="headerlink" href="#wake-on-lan-support" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>WOL support by magic packet:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ethtool -s &lt;ethX&gt; wol g
</pre></div>
</div>
<p>To disable WOL:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ethtool -s &lt;ethX&gt; wol d
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="set-and-check-the-driver-message-level">
<h3>Set and check the driver message level<a class="headerlink" href="#set-and-check-the-driver-message-level" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Set message level</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ethtool -s &lt;ethX&gt; msglvl &lt;level&gt;
</pre></div>
</div>
<p>Level values:</p>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>0x0001</td>
<td>general driver status.</td>
</tr>
<tr class="row-even"><td>0x0002</td>
<td>hardware probing.</td>
</tr>
<tr class="row-odd"><td>0x0004</td>
<td>link state.</td>
</tr>
<tr class="row-even"><td>0x0008</td>
<td>periodic status check.</td>
</tr>
<tr class="row-odd"><td>0x0010</td>
<td>interface being brought down.</td>
</tr>
<tr class="row-even"><td>0x0020</td>
<td>interface being brought up.</td>
</tr>
<tr class="row-odd"><td>0x0040</td>
<td>receive error.</td>
</tr>
<tr class="row-even"><td>0x0080</td>
<td>transmit error.</td>
</tr>
<tr class="row-odd"><td>0x0200</td>
<td>interrupt handling.</td>
</tr>
<tr class="row-even"><td>0x0400</td>
<td>transmit completion.</td>
</tr>
<tr class="row-odd"><td>0x0800</td>
<td>receive completion.</td>
</tr>
<tr class="row-even"><td>0x1000</td>
<td>packet contents.</td>
</tr>
<tr class="row-odd"><td>0x2000</td>
<td>hardware status.</td>
</tr>
<tr class="row-even"><td>0x4000</td>
<td>Wake-on-LAN status.</td>
</tr>
</tbody>
</table>
<p>By default, the level of debugging messages is set 0x0001(general driver status).</p>
<p>Check message level</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ethtool &lt;ethX&gt; | grep &quot;Current message level&quot;
</pre></div>
</div>
<p>If you want to disable the output of messages:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ethtool -s &lt;ethX&gt; msglvl 0
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="rx-flow-rules-ntuple-filters">
<h3>RX flow rules (ntuple filters)<a class="headerlink" href="#rx-flow-rules-ntuple-filters" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>There are separate rules supported, that applies in that order:</p>
<ol class="arabic simple">
<li>16 VLAN ID rules</li>
<li>16 L2 EtherType rules</li>
<li>8 L3/L4 5-Tuple rules</li>
</ol>
<p>The driver utilizes the ethtool interface for configuring ntuple filters,
via <code class="docutils literal notranslate"><span class="pre">ethtool</span> <span class="pre">-N</span> <span class="pre">&lt;device&gt;</span> <span class="pre">&lt;filter&gt;</span></code>.</p>
<p>To enable or disable the RX flow rules:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ethtool -K ethX ntuple &lt;on|off&gt;
</pre></div>
</div>
<p>When disabling ntuple filters, all the user programed filters are
flushed from the driver cache and hardware. All needed filters must
be re-added when ntuple is re-enabled.</p>
<p>Because of the fixed order of the rules, the location of filters is also fixed:</p>
<ul class="simple">
<li>Locations 0 - 15 for VLAN ID filters</li>
<li>Locations 16 - 31 for L2 EtherType filters</li>
<li>Locations 32 - 39 for L3/L4 5-tuple filters (locations 32, 36 for IPv6)</li>
</ul>
<p>The L3/L4 5-tuple (protocol, source and destination IP address, source and
destination TCP/UDP/SCTP port) is compared against 8 filters. For IPv4, up to
8 source and destination addresses can be matched. For IPv6, up to 2 pairs of
addresses can be supported. Source and destination ports are only compared for
TCP/UDP/SCTP packets.</p>
<p>To add a filter that directs packet to queue 5, use
<code class="docutils literal notranslate"><span class="pre">&lt;-N|-U|--config-nfc|--config-ntuple&gt;</span></code> switch:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ethtool -N &lt;ethX&gt; flow-type udp4 src-ip 10.0.0.1 dst-ip 10.0.0.2 src-port 2000 dst-port 2001 action 5 &lt;loc 32&gt;
</pre></div>
</div>
<ul class="simple">
<li>action is the queue number.</li>
<li>loc is the rule number.</li>
</ul>
<p>For <code class="docutils literal notranslate"><span class="pre">flow-type</span> <span class="pre">ip4|udp4|tcp4|sctp4|ip6|udp6|tcp6|sctp6</span></code> you must set the loc
number within 32 - 39.
For <code class="docutils literal notranslate"><span class="pre">flow-type</span> <span class="pre">ip4|udp4|tcp4|sctp4|ip6|udp6|tcp6|sctp6</span></code> you can set 8 rules
for traffic IPv4 or you can set 2 rules for traffic IPv6. Loc number traffic
IPv6 is 32 and 36.
At the moment you can not use IPv4 and IPv6 filters at the same time.</p>
<p>Example filter for IPv6 filter traffic:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sudo ethtool -N &lt;ethX&gt; flow-type tcp6 src-ip 2001:db8:0:f101::1 dst-ip 2001:db8:0:f101::2 action 1 loc 32
sudo ethtool -N &lt;ethX&gt; flow-type ip6 src-ip 2001:db8:0:f101::2 dst-ip 2001:db8:0:f101::5 action -1 loc 36
</pre></div>
</div>
<p>Example filter for IPv4 filter traffic:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sudo ethtool -N &lt;ethX&gt; flow-type udp4 src-ip 10.0.0.4 dst-ip 10.0.0.7 src-port 2000 dst-port 2001 loc 32
sudo ethtool -N &lt;ethX&gt; flow-type tcp4 src-ip 10.0.0.3 dst-ip 10.0.0.9 src-port 2000 dst-port 2001 loc 33
sudo ethtool -N &lt;ethX&gt; flow-type ip4 src-ip 10.0.0.6 dst-ip 10.0.0.4 loc 34
</pre></div>
</div>
<p>If you set action -1, then all traffic corresponding to the filter will be discarded.</p>
<p>The maximum value action is 31.</p>
<p>The VLAN filter (VLAN id) is compared against 16 filters.
VLAN id must be accompanied by mask 0xF000. That is to distinguish VLAN filter
from L2 Ethertype filter with UserPriority since both User Priority and VLAN ID
are passed in the same ‘vlan’ parameter.</p>
<p>To add a filter that directs packets from VLAN 2001 to queue 5:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ethtool -N &lt;ethX&gt; flow-type ip4 vlan 2001 m 0xF000 action 1 loc 0
</pre></div>
</div>
<p>L2 EtherType filters allows filter packet by EtherType field or both EtherType
and User Priority (PCP) field of 802.1Q.
UserPriority (vlan) parameter must be accompanied by mask 0x1FFF. That is to
distinguish VLAN filter from L2 Ethertype filter with UserPriority since both
User Priority and VLAN ID are passed in the same ‘vlan’ parameter.</p>
<p>To add a filter that directs IP4 packess of priority 3 to queue 3:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ethtool -N &lt;ethX&gt; flow-type ether proto 0x800 vlan 0x600 m 0x1FFF action 3 loc 16
</pre></div>
</div>
<p>To see the list of filters currently present:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ethtool &lt;-u|-n|--show-nfc|--show-ntuple&gt; &lt;ethX&gt;
</pre></div>
</div>
<p>Rules may be deleted from the table itself. This is done using:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sudo ethtool &lt;-N|-U|--config-nfc|--config-ntuple&gt; &lt;ethX&gt; delete &lt;loc&gt;
</pre></div>
</div>
<ul class="simple">
<li>loc is the rule number to be deleted.</li>
</ul>
<p>Rx filters is an interface to load the filter table that funnels all flow
into queue 0 unless an alternative queue is specified using “action”. In that
case, any flow that matches the filter criteria will be directed to the
appropriate queue. RX filters is supported on all kernels 2.6.30 and later.</p>
</div></blockquote>
</div>
<div class="section" id="rss-for-udp">
<h3>RSS for UDP<a class="headerlink" href="#rss-for-udp" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Currently, NIC does not support RSS for fragmented IP packets, which leads to
incorrect working of RSS for fragmented UDP traffic. To disable RSS for UDP the
RX Flow L3/L4 rule may be used.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ethtool -N eth0 flow-type udp4 action 0 loc 32
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="udp-gso-hardware-offload">
<h3>UDP GSO hardware offload<a class="headerlink" href="#udp-gso-hardware-offload" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>UDP GSO allows to boost UDP tx rates by offloading UDP headers allocation
into hardware. A special userspace socket option is required for this,
could be validated with /kernel/tools/testing/selftests/net/:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>udpgso_bench_tx -u -4 -D 10.0.1.1 -s 6300 -S 100
</pre></div>
</div>
<p>Will cause sending out of 100 byte sized UDP packets formed from single
6300 bytes user buffer.</p>
<p>UDP GSO is configured by:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ethtool -K eth0 tx-udp-segmentation on
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="private-flags-testing">
<h3>Private flags (testing)<a class="headerlink" href="#private-flags-testing" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Atlantic driver supports private flags for hardware custom features:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ ethtool --show-priv-flags ethX

Private flags for ethX:
DMASystemLoopback  : off
PKTSystemLoopback  : off
DMANetworkLoopback : off
PHYInternalLoopback: off
PHYExternalLoopback: off
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ ethtool --set-priv-flags ethX DMASystemLoopback on
</pre></div>
</div>
<p>DMASystemLoopback:   DMA Host loopback.
PKTSystemLoopback:   Packet buffer host loopback.
DMANetworkLoopback:  Network side loopback on DMA block.
PHYInternalLoopback: Internal loopback on Phy.
PHYExternalLoopback: External loopback on Phy (with loopback ethernet cable).</p>
</div></blockquote>
</div>
</div>
<div class="section" id="command-line-parameters">
<h2>Command Line Parameters<a class="headerlink" href="#command-line-parameters" title="Permalink to this headline">¶</a></h2>
<p>The following command line parameters are available on atlantic driver:</p>
<div class="section" id="aq-itr-interrupt-throttling-mode">
<h3>aq_itr -Interrupt throttling mode<a class="headerlink" href="#aq-itr-interrupt-throttling-mode" title="Permalink to this headline">¶</a></h3>
<p>Accepted values: 0, 1, 0xFFFF</p>
<p>Default value: 0xFFFF</p>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="91%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>0</td>
<td>Disable interrupt throttling.</td>
</tr>
<tr class="row-even"><td>1</td>
<td>Enable interrupt throttling and use specified tx and rx rates.</td>
</tr>
<tr class="row-odd"><td>0xFFFF</td>
<td>Auto throttling mode. Driver will choose the best RX and TX
interrupt throtting settings based on link speed.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="aq-itr-tx-tx-interrupt-throttle-rate">
<h3>aq_itr_tx - TX interrupt throttle rate<a class="headerlink" href="#aq-itr-tx-tx-interrupt-throttle-rate" title="Permalink to this headline">¶</a></h3>
<p>Accepted values: 0 - 0x1FF</p>
<p>Default value: 0</p>
<p>TX side throttling in microseconds. Adapter will setup maximum interrupt delay
to this value. Minimum interrupt delay will be a half of this value</p>
</div>
<div class="section" id="aq-itr-rx-rx-interrupt-throttle-rate">
<h3>aq_itr_rx - RX interrupt throttle rate<a class="headerlink" href="#aq-itr-rx-rx-interrupt-throttle-rate" title="Permalink to this headline">¶</a></h3>
<p>Accepted values: 0 - 0x1FF</p>
<p>Default value: 0</p>
<p>RX side throttling in microseconds. Adapter will setup maximum interrupt delay
to this value. Minimum interrupt delay will be a half of this value</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">ITR settings could be changed in runtime by ethtool -c means (see below)</p>
</div>
</div>
</div>
<div class="section" id="config-file-parameters">
<h2>Config file parameters<a class="headerlink" href="#config-file-parameters" title="Permalink to this headline">¶</a></h2>
<p>For some fine tuning and performance optimizations,
some parameters can be changed in the {source_dir}/aq_cfg.h file.</p>
<div class="section" id="aq-cfg-rx-pageorder">
<h3>AQ_CFG_RX_PAGEORDER<a class="headerlink" href="#aq-cfg-rx-pageorder" title="Permalink to this headline">¶</a></h3>
<p>Default value: 0</p>
<p>RX page order override. Thats a power of 2 number of RX pages allocated for
each descriptor. Received descriptor size is still limited by
AQ_CFG_RX_FRAME_MAX.</p>
<p>Increasing pageorder makes page reuse better (actual on iommu enabled systems).</p>
</div>
<div class="section" id="aq-cfg-rx-refill-thres">
<h3>AQ_CFG_RX_REFILL_THRES<a class="headerlink" href="#aq-cfg-rx-refill-thres" title="Permalink to this headline">¶</a></h3>
<p>Default value: 32</p>
<p>RX refill threshold. RX path will not refill freed descriptors until the
specified number of free descriptors is observed. Larger values may help
better page reuse but may lead to packet drops as well.</p>
</div>
<div class="section" id="aq-cfg-vecs-def">
<h3>AQ_CFG_VECS_DEF<a class="headerlink" href="#aq-cfg-vecs-def" title="Permalink to this headline">¶</a></h3>
<p>Number of queues</p>
<p>Valid Range: 0 - 8 (up to AQ_CFG_VECS_MAX)</p>
<p>Default value: 8</p>
<p>Notice this value will be capped by the number of cores available on the system.</p>
</div>
<div class="section" id="aq-cfg-is-rss-def">
<h3>AQ_CFG_IS_RSS_DEF<a class="headerlink" href="#aq-cfg-is-rss-def" title="Permalink to this headline">¶</a></h3>
<p>Enable/disable Receive Side Scaling</p>
<p>This feature allows the adapter to distribute receive processing
across multiple CPU-cores and to prevent from overloading a single CPU core.</p>
<p>Valid values</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>0</td>
<td>disabled</td>
</tr>
<tr class="row-even"><td>1</td>
<td>enabled</td>
</tr>
</tbody>
</table>
<p>Default value: 1</p>
</div>
<div class="section" id="aq-cfg-num-rss-queues-def">
<h3>AQ_CFG_NUM_RSS_QUEUES_DEF<a class="headerlink" href="#aq-cfg-num-rss-queues-def" title="Permalink to this headline">¶</a></h3>
<p>Number of queues for Receive Side Scaling</p>
<p>Valid Range: 0 - 8 (up to AQ_CFG_VECS_DEF)</p>
<p>Default value: AQ_CFG_VECS_DEF</p>
</div>
<div class="section" id="aq-cfg-is-lro-def">
<h3>AQ_CFG_IS_LRO_DEF<a class="headerlink" href="#aq-cfg-is-lro-def" title="Permalink to this headline">¶</a></h3>
<p>Enable/disable Large Receive Offload</p>
<p>This offload enables the adapter to coalesce multiple TCP segments and indicate
them as a single coalesced unit to the OS networking subsystem.</p>
<p>The system consumes less energy but it also introduces more latency in packets
processing.</p>
<p>Valid values</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>0</td>
<td>disabled</td>
</tr>
<tr class="row-even"><td>1</td>
<td>enabled</td>
</tr>
</tbody>
</table>
<p>Default value: 1</p>
</div>
<div class="section" id="aq-cfg-tx-clean-budget">
<h3>AQ_CFG_TX_CLEAN_BUDGET<a class="headerlink" href="#aq-cfg-tx-clean-budget" title="Permalink to this headline">¶</a></h3>
<p>Maximum descriptors to cleanup on TX at once.</p>
<p>Default value: 256</p>
<p>After the aq_cfg.h file changed the driver must be rebuilt to take effect.</p>
</div>
</div>
<div class="section" id="support">
<h2>Support<a class="headerlink" href="#support" title="Permalink to this headline">¶</a></h2>
<p>If an issue is identified with the released source code on the supported
kernel with a supported adapter, email the specific information related
to the issue to <a class="reference external" href="mailto:aqn_support&#37;&#52;&#48;marvell&#46;com">aqn_support<span>&#64;</span>marvell<span>&#46;</span>com</a></p>
</div>
<div class="section" id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h2>
<p>aQuantia Corporation Network Driver</p>
<p>Copyright © 2014 - 2019 aQuantia Corporation.</p>
<p>This program is free software; you can redistribute it and/or modify it
under the terms and conditions of the GNU General Public License,
version 2, as published by the Free Software Foundation.</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../chelsio/cxgb.html" class="btn btn-neutral float-right" title="Chelsio N210 10Gb Ethernet Network Controller" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../altera/altera_tse.html" class="btn btn-neutral" title="Altera Triple-Speed Ethernet MAC driver" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../../',
            VERSION:'5.18.0-rc1-torvalds+',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../../_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>