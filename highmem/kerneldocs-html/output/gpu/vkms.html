

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>drm/vkms Virtual Kernel Modesetting &mdash; The Linux Kernel 5.18.0-rc1-torvalds+ documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/theme_rtd_colors.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="The Linux Kernel 5.18.0-rc1-torvalds+ documentation" href="../index.html"/>
        <link rel="up" title="GPU Driver Documentation" href="drivers.html"/>
        <link rel="next" title="drm/bridge/dw-hdmi Synopsys DesignWare HDMI Controller" href="bridge/dw-hdmi.html"/>
        <link rel="prev" title="drm/vc4 Broadcom VC4 Graphics Driver" href="vc4.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.18.0-rc2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/index.html">The Linux kernel user’s and administrator’s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kbuild/index.html">Kernel Build System</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../firmware-guide/index.html">The Linux kernel firmware guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devicetree/index.html">Open Firmware and Devicetree</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../userspace-api/index.html">The Linux kernel user-space API guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../process/index.html">Working with the kernel development community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev-tools/index.html">Development tools for the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc-guide/index.html">How to write kernel documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kernel-hacking/index.html">Kernel Hacking Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trace/index.html">Linux Tracing Technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../maintainer/index.html">Kernel Maintainer Handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fault-injection/index.html">fault-injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../livepatch/index.html">Kernel Livepatching</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../driver-api/index.html">The Linux driver implementer’s API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core-api/index.html">Core API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../locking/index.html">locking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounting/index.html">Accounting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../block/index.html">Block</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cdrom/index.html">cdrom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cpu-freq/index.html">Linux CPUFreq - CPU frequency and voltage scaling code in the Linux(TM) kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ide/index.html">Integrated Drive Electronics (IDE)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fb/index.html">Frame Buffer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpga/index.html">fpga</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hid/index.html">Human Interface Devices (HID)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../i2c/index.html">I2C/SMBus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iio/index.html">Industrial I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../isdn/index.html">ISDN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../infiniband/index.html">InfiniBand</a></li>
<li class="toctree-l1"><a class="reference internal" href="../leds/index.html">LEDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../netlabel/index.html">NetLabel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../networking/index.html">Linux Networking Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pcmcia/index.html">pcmcia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../power/index.html">Power Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../target/index.html">TCM Virtual Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../timers/index.html">timers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spi/index.html">Serial Peripheral Interface (SPI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../w1/index.html">1-Wire Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../watchdog/index.html">Linux Watchdog Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../virt/index.html">Linux Virtualization Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../input/index.html">The Linux Input Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hwmon/index.html">Linux Hardware Monitoring</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Linux GPU Driver Developer’s Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="drm-internals.html">DRM Internals</a></li>
<li class="toctree-l2"><a class="reference internal" href="drm-mm.html">DRM Memory Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="drm-kms.html">Kernel Mode Setting (KMS)</a></li>
<li class="toctree-l2"><a class="reference internal" href="drm-kms-helpers.html">Mode Setting Helper Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="drm-uapi.html">Userland interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="driver-uapi.html">DRM Driver uAPI</a></li>
<li class="toctree-l2"><a class="reference internal" href="drm-client.html">Kernel clients</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="drivers.html">GPU Driver Documentation</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="amdgpu/index.html">drm/amdgpu AMDgpu driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="i915.html">drm/i915 Intel GFX Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="mcde.html">drm/mcde ST-Ericsson MCDE Multi-channel display engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="meson.html">drm/meson AmLogic Meson Video Processing Unit</a></li>
<li class="toctree-l3"><a class="reference internal" href="pl111.html">drm/pl111 ARM PrimeCell PL110 and PL111 CLCD Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="tegra.html">drm/tegra NVIDIA Tegra GPU and display driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="tve200.html">drm/tve200 Faraday TV Encoder 200</a></li>
<li class="toctree-l3"><a class="reference internal" href="v3d.html">drm/v3d Broadcom V3D Graphics Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="vc4.html">drm/vc4 Broadcom VC4 Graphics Driver</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">drm/vkms Virtual Kernel Modesetting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="#testing-with-igt">Testing With IGT</a></li>
<li class="toctree-l4"><a class="reference internal" href="#todo">TODO</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="bridge/dw-hdmi.html">drm/bridge/dw-hdmi Synopsys DesignWare HDMI Controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="xen-front.html">drm/xen-front Xen para-virtualized frontend driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="afbc.html">Arm Framebuffer Compression (AFBC)</a></li>
<li class="toctree-l3"><a class="reference internal" href="komeda-kms.html">drm/komeda Arm display driver</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="backlight.html">Backlight support</a></li>
<li class="toctree-l2"><a class="reference internal" href="vga-switcheroo.html">VGA Switcheroo</a></li>
<li class="toctree-l2"><a class="reference internal" href="vgaarbiter.html">VGA Arbiter</a></li>
<li class="toctree-l2"><a class="reference internal" href="todo.html">TODO list</a></li>
<li class="toctree-l2"><a class="reference internal" href="rfc/index.html">GPU RFC Section</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../security/index.html">Security Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sound/index.html">Linux Sound Subsystem Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../crypto/index.html">Linux Kernel Crypto API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../filesystems/index.html">Filesystems in the Linux kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vm/index.html">Linux Memory Management Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bpf/index.html">BPF Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usb/index.html">USB support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PCI/index.html">Linux PCI Bus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scsi/index.html">Linux SCSI Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc-devices/index.html">Assorted Miscellaneous Devices Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scheduler/index.html">Linux Scheduler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mhi/index.html">MHI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tty/index.html">TTY</a></li>
<li class="toctree-l1"><a class="reference internal" href="../peci/index.html">Linux PECI Subsystem</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../asm-annotations.html">Assembler Annotations</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../arch.html">CPU Architectures</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">Kernel tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../staging/index.html">Unsorted Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../staging/index.html#atomic-types">Atomic Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../staging/index.html#atomic-bitops">Atomic bitops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../staging/index.html#memory-barriers">Memory Barriers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../watch_queue.html">General notification mechanism</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../translations/index.html">Translations</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">The Linux Kernel</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Linux GPU Driver Developer’s Guide</a> &raquo;</li>
        
          <li><a href="drivers.html">GPU Driver Documentation</a> &raquo;</li>
        
      <li>drm/vkms Virtual Kernel Modesetting</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/gpu/vkms.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="drm-vkms-virtual-kernel-modesetting">
<span id="vkms"></span><h1>drm/vkms Virtual Kernel Modesetting<a class="headerlink" href="#drm-vkms-virtual-kernel-modesetting" title="Permalink to this headline">¶</a></h1>
<p>VKMS is a software-only model of a KMS driver that is useful for testing
and for running X (or similar) on headless machines. VKMS aims to enable
a virtual display with no need of a hardware display capability, releasing
the GPU in DRM API tests.</p>
<div class="section" id="setup">
<h2>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h2>
<p>The VKMS driver can be setup with the following steps:</p>
<p>To check if VKMS is loaded, run:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>lsmod | grep vkms
</pre></div>
</div>
<p>This should list the VKMS driver. If no output is obtained, then
you need to enable and/or load the VKMS driver.
Ensure that the VKMS driver has been set as a loadable module in your
kernel config file. Do:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>make nconfig

Go to `Device Drivers&gt; Graphics support`

Enable `Virtual KMS (EXPERIMENTAL)`
</pre></div>
</div>
<p>Compile and build the kernel for the changes to get reflected.
Now, to load the driver, use:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sudo modprobe vkms
</pre></div>
</div>
<p>On running the lsmod command now, the VKMS driver will appear listed.
You can also observe the driver being loaded in the dmesg logs.</p>
<p>The VKMS driver has optional features to simulate different kinds of hardware,
which are exposed as module options. You can use the <cite>modinfo</cite> command
to see the module options for vkms:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>modinfo vkms
</pre></div>
</div>
<p>Module options are helpful when testing, and enabling modules
can be done while loading vkms. For example, to load vkms with cursor enabled,
use:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sudo modprobe vkms enable_cursor=1
</pre></div>
</div>
<p>To disable the driver, use</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sudo modprobe -r vkms
</pre></div>
</div>
</div>
<div class="section" id="testing-with-igt">
<h2>Testing With IGT<a class="headerlink" href="#testing-with-igt" title="Permalink to this headline">¶</a></h2>
<p>The IGT GPU Tools is a test suite used specifically for debugging and
development of the DRM drivers.
The IGT Tools can be installed from
<a class="reference external" href="https://gitlab.freedesktop.org/drm/igt-gpu-tools">here</a> .</p>
<p>The tests need to be run without a compositor, so you need to switch to text
only mode. You can do this by:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sudo systemctl isolate multi-user.target
</pre></div>
</div>
<p>To return to graphical mode, do:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sudo systemctl isolate graphical.target
</pre></div>
</div>
<p>Once you are in text only mode, you can run tests using the –device switch
or IGT_DEVICE variable to specify the device filter for the driver we want
to test. IGT_DEVICE can also be used with the run-test.sh script to run the
tests for a specific driver:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sudo ./build/tests/&lt;name of test&gt; --device &quot;sys:/sys/devices/platform/vkms&quot;
sudo IGT_DEVICE=&quot;sys:/sys/devices/platform/vkms&quot; ./build/tests/&lt;name of test&gt;
sudo IGT_DEVICE=&quot;sys:/sys/devices/platform/vkms&quot; ./scripts/run-tests.sh -t &lt;name of test&gt;
</pre></div>
</div>
<p>For example, to test the functionality of the writeback library,
we can run the kms_writeback test:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sudo ./build/tests/kms_writeback --device &quot;sys:/sys/devices/platform/vkms&quot;
sudo IGT_DEVICE=&quot;sys:/sys/devices/platform/vkms&quot; ./build/tests/kms_writeback
sudo IGT_DEVICE=&quot;sys:/sys/devices/platform/vkms&quot; ./scripts/run-tests.sh -t kms_writeback
</pre></div>
</div>
<p>You can also run subtests if you do not want to run the entire test:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sudo ./build/tests/kms_flip --run-subtest basic-plain-flip --device &quot;sys:/sys/devices/platform/vkms&quot;
sudo IGT_DEVICE=&quot;sys:/sys/devices/platform/vkms&quot; ./build/tests/kms_flip --run-subtest basic-plain-flip
</pre></div>
</div>
</div>
<div class="section" id="todo">
<h2>TODO<a class="headerlink" href="#todo" title="Permalink to this headline">¶</a></h2>
<p>If you want to do any of the items listed below, please share your interest
with VKMS maintainers.</p>
<div class="section" id="igt-better-support">
<h3>IGT better support<a class="headerlink" href="#igt-better-support" title="Permalink to this headline">¶</a></h3>
<p>Debugging:</p>
<ul>
<li><p class="first">kms_plane: some test cases are failing due to timeout on capturing CRC;</p>
</li>
<li><p class="first">kms_flip: when running test cases in sequence, some successful individual
test cases are failing randomly; when individually, some successful test
cases display in the log the following error:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[drm:vkms_prepare_fb [vkms]] ERROR vmap failed: -4
</pre></div>
</div>
</li>
</ul>
<p>Virtual hardware (vblank-less) mode:</p>
<ul class="simple">
<li>VKMS already has support for vblanks simulated via hrtimers, which can be
tested with kms_flip test; in some way, we can say that VKMS already mimics
the real hardware vblank. However, we also have virtual hardware that does
not support vblank interrupt and completes page_flip events right away; in
this case, compositor developers may end up creating a busy loop on virtual
hardware. It would be useful to support Virtual Hardware behavior in VKMS
because this can help compositor developers to test their features in
multiple scenarios.</li>
</ul>
</div>
<div class="section" id="add-plane-features">
<h3>Add Plane Features<a class="headerlink" href="#add-plane-features" title="Permalink to this headline">¶</a></h3>
<p>There’s lots of plane features we could add support for:</p>
<ul class="simple">
<li>Clearing primary plane: clear primary plane before plane composition (at the
start) for correctness of pixel blend ops. It also guarantees alpha channel
is cleared in the target buffer for stable crc. [Good to get started]</li>
<li>ARGB format on primary plane: blend the primary plane into background with
translucent alpha.</li>
<li>Support when the primary plane isn’t exactly matching the output size: blend
the primary plane into the black background.</li>
<li>Full alpha blending on all planes.</li>
<li>Rotation, scaling.</li>
<li>Additional buffer formats, especially YUV formats for video like NV12.
Low/high bpp RGB formats would also be interesting.</li>
<li>Async updates (currently only possible on cursor plane using the legacy
cursor api).</li>
</ul>
<p>For all of these, we also want to review the igt test coverage and make sure
all relevant igt testcases work on vkms. They are good options for internship
project.</p>
</div>
<div class="section" id="runtime-configuration">
<h3>Runtime Configuration<a class="headerlink" href="#runtime-configuration" title="Permalink to this headline">¶</a></h3>
<p>We want to be able to reconfigure vkms instance without having to reload the
module. Use/Test-cases:</p>
<ul class="simple">
<li>Hotplug/hotremove connectors on the fly (to be able to test DP MST handling
of compositors).</li>
<li>Configure planes/crtcs/connectors (we’d need some code to have more than 1 of
them first).</li>
<li>Change output configuration: Plug/unplug screens, change EDID, allow changing
the refresh rate.</li>
</ul>
<p>The currently proposed solution is to expose vkms configuration through
configfs. All existing module options should be supported through configfs
too.</p>
</div>
<div class="section" id="writeback-support">
<h3>Writeback support<a class="headerlink" href="#writeback-support" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The writeback and CRC capture operations share the use of composer_enabled
boolean to ensure vblanks. Probably, when these operations work together,
composer_enabled needs to refcounting the composer state to proper work.
[Good to get started]</li>
<li>Add support for cloned writeback outputs and related test cases using a
cloned output in the IGT kms_writeback.</li>
<li>As a v4l device. This is useful for debugging compositors on special vkms
configurations, so that developers see what’s really going on.</li>
</ul>
</div>
<div class="section" id="output-features">
<h3>Output Features<a class="headerlink" href="#output-features" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Variable refresh rate/freesync support. This probably needs prime buffer
sharing support, so that we can use vgem fences to simulate rendering in
testing. Also needs support to specify the EDID.</li>
<li>Add support for link status, so that compositors can validate their runtime
fallbacks when e.g. a Display Port link goes bad.</li>
</ul>
</div>
<div class="section" id="crc-api-improvements">
<h3>CRC API Improvements<a class="headerlink" href="#crc-api-improvements" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Optimize CRC computation <code class="docutils literal notranslate"><span class="pre">compute_crc()</span></code> and plane blending <code class="docutils literal notranslate"><span class="pre">blend()</span></code></li>
</ul>
</div>
<div class="section" id="atomic-check-using-ebpf">
<h3>Atomic Check using eBPF<a class="headerlink" href="#atomic-check-using-ebpf" title="Permalink to this headline">¶</a></h3>
<p>Atomic drivers have lots of restrictions which are not exposed to userspace in
any explicit form through e.g. possible property values. Userspace can only
inquiry about these limits through the atomic IOCTL, possibly using the
TEST_ONLY flag. Trying to add configurable code for all these limits, to allow
compositors to be tested against them, would be rather futile exercise. Instead
we could add support for eBPF to validate any kind of atomic state, and
implement a library of different restrictions.</p>
<p>This needs a bunch of features (plane compositing, multiple outputs, …)
enabled already to make sense.</p>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="bridge/dw-hdmi.html" class="btn btn-neutral float-right" title="drm/bridge/dw-hdmi Synopsys DesignWare HDMI Controller" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="vc4.html" class="btn btn-neutral" title="drm/vc4 Broadcom VC4 Graphics Driver" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'5.18.0-rc1-torvalds+',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>