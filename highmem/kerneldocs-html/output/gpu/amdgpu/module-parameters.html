

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Module Parameters &mdash; The Linux Kernel 5.18.0-rc1-torvalds+ documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
  
    <link rel="stylesheet" href="../../_static/theme_rtd_colors.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="The Linux Kernel 5.18.0-rc1-torvalds+ documentation" href="../../index.html"/>
        <link rel="up" title="drm/amdgpu AMDgpu driver" href="index.html"/>
        <link rel="next" title="Core Driver Infrastructure" href="driver-core.html"/>
        <link rel="prev" title="drm/amdgpu AMDgpu driver" href="index.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.18.0-rc2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../admin-guide/index.html">The Linux kernel user’s and administrator’s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kbuild/index.html">Kernel Build System</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../firmware-guide/index.html">The Linux kernel firmware guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devicetree/index.html">Open Firmware and Devicetree</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../userspace-api/index.html">The Linux kernel user-space API guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../process/index.html">Working with the kernel development community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-tools/index.html">Development tools for the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../doc-guide/index.html">How to write kernel documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kernel-hacking/index.html">Kernel Hacking Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../trace/index.html">Linux Tracing Technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../maintainer/index.html">Kernel Maintainer Handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fault-injection/index.html">fault-injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../livepatch/index.html">Kernel Livepatching</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../driver-api/index.html">The Linux driver implementer’s API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../core-api/index.html">Core API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../locking/index.html">locking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../accounting/index.html">Accounting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../block/index.html">Block</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cdrom/index.html">cdrom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cpu-freq/index.html">Linux CPUFreq - CPU frequency and voltage scaling code in the Linux(TM) kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ide/index.html">Integrated Drive Electronics (IDE)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fb/index.html">Frame Buffer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fpga/index.html">fpga</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hid/index.html">Human Interface Devices (HID)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../i2c/index.html">I2C/SMBus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../iio/index.html">Industrial I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../isdn/index.html">ISDN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../infiniband/index.html">InfiniBand</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../leds/index.html">LEDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../netlabel/index.html">NetLabel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../networking/index.html">Linux Networking Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pcmcia/index.html">pcmcia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../power/index.html">Power Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../target/index.html">TCM Virtual Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../timers/index.html">timers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../spi/index.html">Serial Peripheral Interface (SPI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../w1/index.html">1-Wire Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../watchdog/index.html">Linux Watchdog Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../virt/index.html">Linux Virtualization Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../input/index.html">The Linux Input Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hwmon/index.html">Linux Hardware Monitoring</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Linux GPU Driver Developer’s Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../drm-internals.html">DRM Internals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../drm-mm.html">DRM Memory Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../drm-kms.html">Kernel Mode Setting (KMS)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../drm-kms-helpers.html">Mode Setting Helper Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../drm-uapi.html">Userland interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../driver-uapi.html">DRM Driver uAPI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../drm-client.html">Kernel clients</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../drivers.html">GPU Driver Documentation</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="index.html">drm/amdgpu AMDgpu driver</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">Module Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="driver-core.html">Core Driver Infrastructure</a></li>
<li class="toctree-l4"><a class="reference internal" href="display/index.html">drm/amd/display - Display Core (DC)</a></li>
<li class="toctree-l4"><a class="reference internal" href="xgmi.html">AMDGPU XGMI Support</a></li>
<li class="toctree-l4"><a class="reference internal" href="ras.html">AMDGPU RAS Support</a></li>
<li class="toctree-l4"><a class="reference internal" href="thermal.html">GPU Power/Thermal Controls and Monitoring</a></li>
<li class="toctree-l4"><a class="reference internal" href="driver-misc.html">Misc AMDGPU driver information</a></li>
<li class="toctree-l4"><a class="reference internal" href="amdgpu-glossary.html">AMDGPU Glossary</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../i915.html">drm/i915 Intel GFX Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mcde.html">drm/mcde ST-Ericsson MCDE Multi-channel display engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../meson.html">drm/meson AmLogic Meson Video Processing Unit</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pl111.html">drm/pl111 ARM PrimeCell PL110 and PL111 CLCD Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tegra.html">drm/tegra NVIDIA Tegra GPU and display driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tve200.html">drm/tve200 Faraday TV Encoder 200</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v3d.html">drm/v3d Broadcom V3D Graphics Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vc4.html">drm/vc4 Broadcom VC4 Graphics Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vkms.html">drm/vkms Virtual Kernel Modesetting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../bridge/dw-hdmi.html">drm/bridge/dw-hdmi Synopsys DesignWare HDMI Controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="../xen-front.html">drm/xen-front Xen para-virtualized frontend driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../afbc.html">Arm Framebuffer Compression (AFBC)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../komeda-kms.html">drm/komeda Arm display driver</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../backlight.html">Backlight support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vga-switcheroo.html">VGA Switcheroo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vgaarbiter.html">VGA Arbiter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../todo.html">TODO list</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rfc/index.html">GPU RFC Section</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../security/index.html">Security Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sound/index.html">Linux Sound Subsystem Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../crypto/index.html">Linux Kernel Crypto API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/index.html">Filesystems in the Linux kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../vm/index.html">Linux Memory Management Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bpf/index.html">BPF Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usb/index.html">USB support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../PCI/index.html">Linux PCI Bus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../scsi/index.html">Linux SCSI Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../misc-devices/index.html">Assorted Miscellaneous Devices Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../scheduler/index.html">Linux Scheduler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mhi/index.html">MHI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tty/index.html">TTY</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../peci/index.html">Linux PECI Subsystem</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../asm-annotations.html">Assembler Annotations</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../arch.html">CPU Architectures</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tools/index.html">Kernel tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../staging/index.html">Unsorted Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../staging/index.html#atomic-types">Atomic Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../staging/index.html#atomic-bitops">Atomic bitops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../staging/index.html#memory-barriers">Memory Barriers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../watch_queue.html">General notification mechanism</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../translations/index.html">Translations</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">The Linux Kernel</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Linux GPU Driver Developer’s Guide</a> &raquo;</li>
        
          <li><a href="../drivers.html">GPU Driver Documentation</a> &raquo;</li>
        
          <li><a href="index.html">drm/amdgpu AMDgpu driver</a> &raquo;</li>
        
      <li>Module Parameters</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/gpu/amdgpu/module-parameters.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-parameters">
<h1>Module Parameters<a class="headerlink" href="#module-parameters" title="Permalink to this headline">¶</a></h1>
<p>The amdgpu driver supports the following module parameters:</p>
<p id="vramlimit-int"><strong>vramlimit (int)</strong></p>
<p>Restrict the total amount of VRAM in MiB for testing.  The default is 0 (Use full VRAM).</p>
<p id="vis-vramlimit-int"><strong>vis_vramlimit (int)</strong></p>
<p>Restrict the amount of CPU visible VRAM in MiB for testing.  The default is 0 (Use full CPU visible VRAM).</p>
<p id="gartsize-uint"><strong>gartsize (uint)</strong></p>
<p>Restrict the size of GART in Mib (32, 64, etc.) for testing. The default is -1 (The size depends on asic).</p>
<p id="gttsize-int"><strong>gttsize (int)</strong></p>
<p>Restrict the size of GTT domain in MiB for testing. The default is -1 (It’s VRAM size if 3GB &lt; VRAM &lt; 3/4 RAM,
otherwise 3/4 RAM size).</p>
<p id="moverate-int"><strong>moverate (int)</strong></p>
<p>Set maximum buffer migration rate in MB/s. The default is -1 (8 MB/s).</p>
<p id="audio-int"><strong>audio (int)</strong></p>
<p>Set HDMI/DPAudio. Only affects non-DC display handling. The default is -1 (Enabled), set 0 to disabled it.</p>
<p id="disp-priority-int"><strong>disp_priority (int)</strong></p>
<p>Set display Priority (1 = normal, 2 = high). Only affects non-DC display handling. The default is 0 (auto).</p>
<p id="hw-i2c-int"><strong>hw_i2c (int)</strong></p>
<p>To enable hw i2c engine. Only affects non-DC display handling. The default is 0 (Disabled).</p>
<p id="pcie-gen2-int"><strong>pcie_gen2 (int)</strong></p>
<p>To disable PCIE Gen2/3 mode (0 = disable, 1 = enable). The default is -1 (auto, enabled).</p>
<p id="msi-int"><strong>msi (int)</strong></p>
<p>To disable Message Signaled Interrupts (MSI) functionality (1 = enable, 0 = disable). The default is -1 (auto, enabled).</p>
<p id="lockup-timeout-string"><strong>lockup_timeout (string)</strong></p>
<p>Set GPU scheduler timeout value in ms.</p>
<p>The format can be [Non-Compute] or [GFX,Compute,SDMA,Video]. That is there can be one or
multiple values specified. 0 and negative values are invalidated. They will be adjusted
to the default timeout.</p>
<ul class="simple">
<li>With one value specified, the setting will apply to all non-compute jobs.</li>
<li>With multiple values specified, the first one will be for GFX.
The second one is for Compute. The third and fourth ones are
for SDMA and Video.</li>
</ul>
<p>By default(with no lockup_timeout settings), the timeout for all non-compute(GFX, SDMA and Video)
jobs is 10000. The timeout for compute is 60000.</p>
<p id="dpm-int"><strong>dpm (int)</strong></p>
<p>Override for dynamic power management setting
(0 = disable, 1 = enable)
The default is -1 (auto).</p>
<p id="fw-load-type-int"><strong>fw_load_type (int)</strong></p>
<p>Set different firmware loading type for debugging, if supported.
Set to 0 to force direct loading if supported by the ASIC.  Set
to -1 to select the default loading mode for the ASIC, as defined
by the driver.  The default is -1 (auto).</p>
<p id="aspm-int"><strong>aspm (int)</strong></p>
<p>To disable ASPM (1 = enable, 0 = disable). The default is -1 (auto, enabled).</p>
<p id="runpm-int"><strong>runpm (int)</strong></p>
<p>Override for runtime power management control for dGPUs. The amdgpu driver can dynamically power down
the dGPUs when they are idle if supported. The default is -1 (auto enable).
Setting the value to 0 disables this functionality.</p>
<p id="ip-block-mask-uint"><strong>ip_block_mask (uint)</strong></p>
<p>Override what IP blocks are enabled on the GPU. Each GPU is a collection of IP blocks (gfx, display, video, etc.).
Use this parameter to disable specific blocks. Note that the IP blocks do not have a fixed index. Some asics may not have
some IPs or may include multiple instances of an IP so the ordering various from asic to asic. See the driver output in
the kernel log for the list of IPs on the asic. The default is 0xffffffff (enable all blocks on a device).</p>
<p id="bapm-int"><strong>bapm (int)</strong></p>
<p>Bidirectional Application Power Management (BAPM) used to dynamically share TDP between CPU and GPU. Set value 0 to disable it.
The default -1 (auto, enabled)</p>
<p id="deep-color-int"><strong>deep_color (int)</strong></p>
<p>Set 1 to enable Deep Color support. Only affects non-DC display handling. The default is 0 (disabled).</p>
<p id="vm-size-int"><strong>vm_size (int)</strong></p>
<p>Override the size of the GPU’s per client virtual address space in GiB.  The default is -1 (automatic for each asic).</p>
<p id="vm-fragment-size-int"><strong>vm_fragment_size (int)</strong></p>
<p>Override VM fragment size in bits (4, 5, etc. 4 = 64K, 9 = 2M). The default is -1 (automatic for each asic).</p>
<p id="vm-block-size-int"><strong>vm_block_size (int)</strong></p>
<p>Override VM page table size in bits (default depending on vm_size and hw setup). The default is -1 (automatic for each asic).</p>
<p id="vm-fault-stop-int"><strong>vm_fault_stop (int)</strong></p>
<p>Stop on VM fault for debugging (0 = never, 1 = print first, 2 = always). The default is 0 (No stop).</p>
<p id="vm-debug-int"><strong>vm_debug (int)</strong></p>
<p>Debug VM handling (0 = disabled, 1 = enabled). The default is 0 (Disabled).</p>
<p id="vm-update-mode-int"><strong>vm_update_mode (int)</strong></p>
<p>Override VM update mode. VM updated by using CPU (0 = never, 1 = Graphics only, 2 = Compute only, 3 = Both). The default
is -1 (Only in large BAR(LB) systems Compute VM tables will be updated by CPU, otherwise 0, never).</p>
<p id="exp-hw-support-int"><strong>exp_hw_support (int)</strong></p>
<p>Enable experimental hw support (1 = enable). The default is 0 (disabled).</p>
<p id="dc-int"><strong>dc (int)</strong></p>
<p>Disable/Enable Display Core driver for debugging (1 = enable, 0 = disable). The default is -1 (automatic for each asic).</p>
<p id="sched-jobs-int"><strong>sched_jobs (int)</strong></p>
<p>Override the max number of jobs supported in the sw queue. The default is 32.</p>
<p id="sched-hw-submission-int"><strong>sched_hw_submission (int)</strong></p>
<p>Override the max number of HW submissions. The default is 2.</p>
<p id="ppfeaturemask-hexint"><strong>ppfeaturemask (hexint)</strong></p>
<p>Override power features enabled. See enum PP_FEATURE_MASK in drivers/gpu/drm/amd/include/amd_shared.h.
The default is the current set of stable power features.</p>
<p id="forcelongtraining-uint"><strong>forcelongtraining (uint)</strong></p>
<p>Force long memory training in resume.
The default is zero, indicates short training in resume.</p>
<p id="pcie-gen-cap-uint"><strong>pcie_gen_cap (uint)</strong></p>
<p>Override PCIE gen speed capabilities. See the CAIL flags in drivers/gpu/drm/amd/include/amd_pcie.h.
The default is 0 (automatic for each asic).</p>
<p id="pcie-lane-cap-uint"><strong>pcie_lane_cap (uint)</strong></p>
<p>Override PCIE lanes capabilities. See the CAIL flags in drivers/gpu/drm/amd/include/amd_pcie.h.
The default is 0 (automatic for each asic).</p>
<p id="cg-mask-uint"><strong>cg_mask (uint)</strong></p>
<p>Override Clockgating features enabled on GPU (0 = disable clock gating). See the AMD_CG_SUPPORT flags in
drivers/gpu/drm/amd/include/amd_shared.h. The default is 0xffffffff (all enabled).</p>
<p id="pg-mask-uint"><strong>pg_mask (uint)</strong></p>
<p>Override Powergating features enabled on GPU (0 = disable power gating). See the AMD_PG_SUPPORT flags in
drivers/gpu/drm/amd/include/amd_shared.h. The default is 0xffffffff (all enabled).</p>
<p id="sdma-phase-quantum-uint"><strong>sdma_phase_quantum (uint)</strong></p>
<p>Override SDMA context switch phase quantum (x 1K GPU clock cycles, 0 = no change). The default is 32.</p>
<p id="disable-cu-charp"><strong>disable_cu (charp)</strong></p>
<p>Set to disable CUs (It’s set like se.sh.cu,…). The default is NULL.</p>
<p id="virtual-display-charp"><strong>virtual_display (charp)</strong></p>
<p>Set to enable virtual display feature. This feature provides a virtual display hardware on headless boards
or in virtualized environments. It will be set like xxxx:xx:xx.x,x;xxxx:xx:xx.x,x. It’s the pci address of
the device, plus the number of crtcs to expose. E.g., 0000:26:00.0,4 would enable 4 virtual crtcs on the pci
device at 26:00.0. The default is NULL.</p>
<p id="job-hang-limit-int"><strong>job_hang_limit (int)</strong></p>
<p>Set how much time allow a job hang and not drop it. The default is 0.</p>
<p id="lbpw-int"><strong>lbpw (int)</strong></p>
<p>Override Load Balancing Per Watt (LBPW) support (1 = enable, 0 = disable). The default is -1 (auto, enabled).</p>
<p id="gpu-recovery-int"><strong>gpu_recovery (int)</strong></p>
<p>Set to enable GPU recovery mechanism (1 = enable, 0 = disable). The default is -1 (auto, disabled except SRIOV).</p>
<p id="emu-mode-int"><strong>emu_mode (int)</strong></p>
<p>Set value 1 to enable emulation mode. This is only needed when running on an emulator. The default is 0 (disabled).</p>
<p id="ras-enable-int"><strong>ras_enable (int)</strong></p>
<p>Enable RAS features on the GPU (0 = disable, 1 = enable, -1 = auto (default))</p>
<p id="ras-mask-uint"><strong>ras_mask (uint)</strong></p>
<p>Mask of RAS features to enable (default 0xffffffff), only valid when ras_enable == 1
See the flags in drivers/gpu/drm/amd/amdgpu/amdgpu_ras.h</p>
<p id="timeout-fatal-disable-bool"><strong>timeout_fatal_disable (bool)</strong></p>
<p>Disable Watchdog timeout fatal error event</p>
<p id="timeout-period-uint"><strong>timeout_period (uint)</strong></p>
<p>Modify the watchdog timeout max_cycles as (1 &lt;&lt; period)</p>
<p id="si-support-int"><strong>si_support (int)</strong></p>
<p>Set SI support driver. This parameter works after set config CONFIG_DRM_AMDGPU_SI. For SI asic, when radeon driver is enabled,
set value 0 to use radeon driver, while set value 1 to use amdgpu driver. The default is using radeon driver when it available,
otherwise using amdgpu driver.</p>
<p id="cik-support-int"><strong>cik_support (int)</strong></p>
<p>Set CIK support driver. This parameter works after set config CONFIG_DRM_AMDGPU_CIK. For CIK asic, when radeon driver is enabled,
set value 0 to use radeon driver, while set value 1 to use amdgpu driver. The default is using radeon driver when it available,
otherwise using amdgpu driver.</p>
<p id="smu-memory-pool-size-uint"><strong>smu_memory_pool_size (uint)</strong></p>
<p>It is used to reserve gtt for smu debug usage, setting value 0 to disable it. The actual size is value * 256MiB.
E.g. 0x1 = 256Mbyte, 0x2 = 512Mbyte, 0x4 = 1 Gbyte, 0x8 = 2GByte. The default is 0 (disabled).</p>
<p id="async-gfx-ring-int"><strong>async_gfx_ring (int)</strong></p>
<p>It is used to enable gfx rings that could be configured with different prioritites or equal priorities</p>
<p id="mcbp-int"><strong>mcbp (int)</strong></p>
<p>It is used to enable mid command buffer preemption. (0 = disabled (default), 1 = enabled)</p>
<p id="discovery-int"><strong>discovery (int)</strong></p>
<p>Allow driver to discover hardware IP information from IP Discovery table at the top of VRAM.
(-1 = auto (default), 0 = disabled, 1 = enabled, 2 = use ip_discovery table from file)</p>
<p id="mes-int"><strong>mes (int)</strong></p>
<p>Enable Micro Engine Scheduler. This is a new hw scheduling engine for gfx, sdma, and compute.
(0 = disabled (default), 1 = enabled)</p>
<p id="noretry-int"><strong>noretry (int)</strong></p>
<p>Disable XNACK retry in the SQ by default on GFXv9 hardware. On ASICs that
do not support per-process XNACK this also disables retry page faults.
(0 = retry enabled, 1 = retry disabled, -1 auto (default))</p>
<p id="force-asic-type-int"><strong>force_asic_type (int)</strong></p>
<p>A non negative value used to specify the asic type for all supported GPUs.</p>
<p id="use-xgmi-p2p-int"><strong>use_xgmi_p2p (int)</strong></p>
<p>Enables/disables XGMI P2P interface (0 = disable, 1 = enable).</p>
<p id="sched-policy-int"><strong>sched_policy (int)</strong></p>
<p>Set scheduling policy. Default is HWS(hardware scheduling) with over-subscription.
Setting 1 disables over-subscription. Setting 2 disables HWS and statically
assigns queues to HQDs.</p>
<p id="hws-max-conc-proc-int"><strong>hws_max_conc_proc (int)</strong></p>
<p>Maximum number of processes that HWS can schedule concurrently. The maximum is the
number of VMIDs assigned to the HWS, which is also the default.</p>
<p id="cwsr-enable-int"><strong>cwsr_enable (int)</strong></p>
<p>CWSR(compute wave store and resume) allows the GPU to preempt shader execution in
the middle of a compute wave. Default is 1 to enable this feature. Setting 0
disables it.</p>
<p id="max-num-of-queues-per-device-int"><strong>max_num_of_queues_per_device (int)</strong></p>
<p>Maximum number of queues per device. Valid setting is between 1 and 4096. Default
is 4096.</p>
<p id="send-sigterm-int"><strong>send_sigterm (int)</strong></p>
<p>Send sigterm to HSA process on unhandled exceptions. Default is not to send sigterm
but just print errors on dmesg. Setting 1 enables sending sigterm.</p>
<p id="debug-largebar-int"><strong>debug_largebar (int)</strong></p>
<p>Set debug_largebar as 1 to enable simulating large-bar capability on non-large bar
system. This limits the VRAM size reported to ROCm applications to the visible
size, usually 256MB.
Default value is 0, diabled.</p>
<p id="ignore-crat-int"><strong>ignore_crat (int)</strong></p>
<p>Ignore CRAT table during KFD initialization. By default, KFD uses the ACPI CRAT
table to get information about AMD APUs. This option can serve as a workaround on
systems with a broken CRAT table.</p>
<p>Default is auto (according to asic type, iommu_v2, and crat table, to decide
whether use CRAT)</p>
<p id="halt-if-hws-hang-int"><strong>halt_if_hws_hang (int)</strong></p>
<p>Halt if HWS hang is detected. Default value, 0, disables the halt on hang.
Setting 1 enables halt on hang.</p>
<p id="hws-gws-support-bool"><strong>hws_gws_support(bool)</strong></p>
<p>Assume that HWS supports GWS barriers regardless of what firmware version
check says. Default value: false (rely on MEC2 firmware version check).</p>
<p id="queue-preemption-timeout-ms-int"><strong>queue_preemption_timeout_ms (int)</strong></p>
<p>queue preemption timeout in ms (1 = Minimum, 9000 = default)</p>
<p id="debug-evictions-bool"><strong>debug_evictions(bool)</strong></p>
<p>Enable extra debug messages to help determine the cause of evictions</p>
<p id="no-system-mem-limit-bool"><strong>no_system_mem_limit(bool)</strong></p>
<p>Disable system memory limit, to support multiple process shared memory</p>
<p id="no-queue-eviction-on-vm-fault-int"><strong>no_queue_eviction_on_vm_fault (int)</strong></p>
<p>If set, process queues will not be evicted on gpuvm fault. This is to keep the wavefront context for debugging (0 = queue eviction, 1 = no queue eviction). The default is 0 (queue eviction).</p>
<p id="dcfeaturemask-uint"><strong>dcfeaturemask (uint)</strong></p>
<p>Override display features enabled. See enum DC_FEATURE_MASK in drivers/gpu/drm/amd/include/amd_shared.h.
The default is the current set of stable display features.</p>
<p id="dcdebugmask-uint"><strong>dcdebugmask (uint)</strong></p>
<p>Override display features enabled. See enum DC_DEBUG_MASK in drivers/gpu/drm/amd/include/amd_shared.h.</p>
<p id="abmlevel-uint"><strong>abmlevel (uint)</strong></p>
<p>Override the default ABM (Adaptive Backlight Management) level used for DC
enabled hardware. Requires DMCU to be supported and loaded.
Valid levels are 0-4. A value of 0 indicates that ABM should be disabled by
default. Values 1-4 control the maximum allowable brightness reduction via
the ABM algorithm, with 1 being the least reduction and 4 being the most
reduction.</p>
<p>Defaults to 0, or disabled. Userspace can still override this level later
after boot.</p>
<p id="tmz-int"><strong>tmz (int)</strong></p>
<p>Trusted Memory Zone (TMZ) is a method to protect data being written
to or read from memory.</p>
<p>The default value: 0 (off).  TODO: change to auto till it is completed.</p>
<p id="reset-method-int"><strong>reset_method (int)</strong></p>
<p>GPU reset method (-1 = auto (default), 0 = legacy, 1 = mode0, 2 = mode1, 3 = mode2, 4 = baco)</p>
<p id="bad-page-threshold-int-bad-page-threshold-is-specifies-the"><strong>bad_page_threshold (int) Bad page threshold is specifies the</strong></p>
<p>threshold value of faulty pages detected by RAS ECC, which may
result in the GPU entering bad status when the number of total
faulty pages by ECC exceeds the threshold value.</p>
<p id="vcnfw-log-int"><strong>vcnfw_log (int)</strong></p>
<p>Enable vcnfw log output for debugging, the default is disabled.</p>
<p id="smu-pptable-id-int"><strong>smu_pptable_id (int)</strong></p>
<p>Used to override pptable id. id = 0 use VBIOS pptable.
id &gt; 0 use the soft pptable with specicfied id.</p>
<dl class="function">
<dt id="c.amdgpu_drv_delayed_reset_work_handler">
void <code class="descname">amdgpu_drv_delayed_reset_work_handler</code><span class="sig-paren">(</span>struct work_struct<em>&nbsp;*work</em><span class="sig-paren">)</span><a class="headerlink" href="#c.amdgpu_drv_delayed_reset_work_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>work handler for reset</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">work_struct</span> <span class="pre">*work</span></code></dt>
<dd>work_struct.</dd>
</dl>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="driver-core.html" class="btn btn-neutral float-right" title="Core Driver Infrastructure" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="drm/amdgpu AMDgpu driver" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'5.18.0-rc1-torvalds+',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>