

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Test API &mdash; The Linux Kernel 5.18.0-rc1-torvalds+ documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../../_static/theme_overrides.css" type="text/css" />
  
    <link rel="stylesheet" href="../../../_static/theme_rtd_colors.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="The Linux Kernel 5.18.0-rc1-torvalds+ documentation" href="../../../index.html"/>
        <link rel="up" title="API Reference" href="index.html"/>
        <link rel="next" title="Test Style and Nomenclature" href="../style.html"/>
        <link rel="prev" title="API Reference" href="index.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.18.0-rc2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../admin-guide/index.html">The Linux kernel user’s and administrator’s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../kbuild/index.html">Kernel Build System</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../firmware-guide/index.html">The Linux kernel firmware guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../devicetree/index.html">Open Firmware and Devicetree</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../userspace-api/index.html">The Linux kernel user-space API guide</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../process/index.html">Working with the kernel development community</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Development tools for the kernel</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../testing-overview.html">Kernel Testing Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../checkpatch.html">Checkpatch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../coccinelle.html">Coccinelle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sparse.html">Sparse</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../kcov.html">kcov: code coverage for fuzzing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../gcov.html">Using gcov with the Linux kernel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../kasan.html">The Kernel Address Sanitizer (KASAN)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ubsan.html">The Undefined Behavior Sanitizer - UBSAN</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../kmemleak.html">Kernel Memory Leak Detector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../kcsan.html">The Kernel Concurrency Sanitizer (KCSAN)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../kfence.html">Kernel Electric-Fence (KFENCE)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../gdb-kernel-debugging.html">Debugging kernel and modules via gdb</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../kgdb.html">Using kgdb, kdb and the kernel debugger internals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../kselftest.html">Linux Kernel Selftests</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">KUnit - Linux Kernel Unit Testing</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../start.html">Getting Started</a></li>
<li class="toctree-l3"><a class="reference internal" href="../architecture.html">KUnit Architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="../run_wrapper.html">Run Tests with kunit_tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../run_manual.html">Run Tests without kunit_tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage.html">Writing Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage.html#common-patterns">Common Patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../kunit-tool.html">kunit_tool How-To</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">API Reference</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">Test API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../style.html">Test Style and Nomenclature</a></li>
<li class="toctree-l3"><a class="reference internal" href="../faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tips.html">Tips For Writing KUnit Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../running_tips.html">Tips For Running KUnit Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#unit-testing">Unit Testing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#how-do-i-use-it">How do I use it?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../ktap.html">The Kernel Test Anything Protocol (KTAP), version 1</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../doc-guide/index.html">How to write kernel documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../kernel-hacking/index.html">Kernel Hacking Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../trace/index.html">Linux Tracing Technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../maintainer/index.html">Kernel Maintainer Handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fault-injection/index.html">fault-injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../livepatch/index.html">Kernel Livepatching</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../driver-api/index.html">The Linux driver implementer’s API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../core-api/index.html">Core API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../locking/index.html">locking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../accounting/index.html">Accounting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../block/index.html">Block</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cdrom/index.html">cdrom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cpu-freq/index.html">Linux CPUFreq - CPU frequency and voltage scaling code in the Linux(TM) kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ide/index.html">Integrated Drive Electronics (IDE)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fb/index.html">Frame Buffer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fpga/index.html">fpga</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hid/index.html">Human Interface Devices (HID)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../i2c/index.html">I2C/SMBus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../iio/index.html">Industrial I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../isdn/index.html">ISDN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../infiniband/index.html">InfiniBand</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../leds/index.html">LEDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../netlabel/index.html">NetLabel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../networking/index.html">Linux Networking Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pcmcia/index.html">pcmcia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../power/index.html">Power Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../target/index.html">TCM Virtual Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../timers/index.html">timers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../spi/index.html">Serial Peripheral Interface (SPI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../w1/index.html">1-Wire Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../watchdog/index.html">Linux Watchdog Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../virt/index.html">Linux Virtualization Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../input/index.html">The Linux Input Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hwmon/index.html">Linux Hardware Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../gpu/index.html">Linux GPU Driver Developer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security/index.html">Security Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sound/index.html">Linux Sound Subsystem Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../crypto/index.html">Linux Kernel Crypto API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../filesystems/index.html">Filesystems in the Linux kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../vm/index.html">Linux Memory Management Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bpf/index.html">BPF Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usb/index.html">USB support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../PCI/index.html">Linux PCI Bus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scsi/index.html">Linux SCSI Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../misc-devices/index.html">Assorted Miscellaneous Devices Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scheduler/index.html">Linux Scheduler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mhi/index.html">MHI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tty/index.html">TTY</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../peci/index.html">Linux PECI Subsystem</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../asm-annotations.html">Assembler Annotations</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../arch.html">CPU Architectures</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../tools/index.html">Kernel tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../staging/index.html">Unsorted Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../staging/index.html#atomic-types">Atomic Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../staging/index.html#atomic-bitops">Atomic bitops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../staging/index.html#memory-barriers">Memory Barriers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../watch_queue.html">General notification mechanism</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../translations/index.html">Translations</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">The Linux Kernel</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Development tools for the kernel</a> &raquo;</li>
        
          <li><a href="../index.html">KUnit - Linux Kernel Unit Testing</a> &raquo;</li>
        
          <li><a href="index.html">API Reference</a> &raquo;</li>
        
      <li>Test API</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/dev-tools/kunit/api/test.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="test-api">
<h1>Test API<a class="headerlink" href="#test-api" title="Permalink to this headline">¶</a></h1>
<p>This file documents all of the standard testing API.</p>
<dl class="type">
<dt id="c.kunit_resource">
struct <code class="descname">kunit_resource</code><a class="headerlink" href="#c.kunit_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>represents a <em>test managed resource</em></p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct kunit_resource {
  void *data;
  const char *name;
  kunit_resource_free_t free;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">data</span></code></dt>
<dd>for the user to store arbitrary data.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">name</span></code></dt>
<dd>optional name</dd>
<dt><code class="docutils literal notranslate"><span class="pre">free</span></code></dt>
<dd>a user supplied function to free the resource. Populated by
kunit_resource_alloc().</dd>
</dl>
<p><strong>Description</strong></p>
<p>Represents a <em>test managed resource</em>, a resource which will automatically be
cleaned up at the end of a test case.</p>
<p>Resources are reference counted so if a resource is retrieved via
kunit_alloc_and_get_resource() or <a class="reference internal" href="#c.kunit_find_resource" title="kunit_find_resource"><code class="xref c c-func docutils literal notranslate"><span class="pre">kunit_find_resource()</span></code></a>, we need
to call <a class="reference internal" href="#c.kunit_put_resource" title="kunit_put_resource"><code class="xref c c-func docutils literal notranslate"><span class="pre">kunit_put_resource()</span></code></a> to reduce the resource reference count
when finished with it.  Note that <a class="reference internal" href="#c.kunit_alloc_resource" title="kunit_alloc_resource"><code class="xref c c-func docutils literal notranslate"><span class="pre">kunit_alloc_resource()</span></code></a> does not require a
kunit_resource_put() because it does not retrieve the resource itself.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span> <span class="n">kunit_kmalloc_params</span> <span class="p">{</span>
        <span class="kt">size_t</span> <span class="n">size</span><span class="p">;</span>
        <span class="n">gfp_t</span> <span class="n">gfp</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">static</span> <span class="kt">int</span> <span class="nf">kunit_kmalloc_init</span><span class="p">(</span><span class="k">struct</span> <span class="n">kunit_resource</span> <span class="o">*</span><span class="n">res</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">context</span><span class="p">)</span>
<span class="p">{</span>
        <span class="k">struct</span> <span class="n">kunit_kmalloc_params</span> <span class="o">*</span><span class="n">params</span> <span class="o">=</span> <span class="n">context</span><span class="p">;</span>
        <span class="n">res</span><span class="o">-&gt;</span><span class="n">data</span> <span class="o">=</span> <span class="n">kmalloc</span><span class="p">(</span><span class="n">params</span><span class="o">-&gt;</span><span class="n">size</span><span class="p">,</span> <span class="n">params</span><span class="o">-&gt;</span><span class="n">gfp</span><span class="p">);</span>

        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">res</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">)</span>
                <span class="k">return</span> <span class="o">-</span><span class="n">ENOMEM</span><span class="p">;</span>

        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">kunit_kmalloc_free</span><span class="p">(</span><span class="k">struct</span> <span class="n">kunit_resource</span> <span class="o">*</span><span class="n">res</span><span class="p">)</span>
<span class="p">{</span>
        <span class="n">kfree</span><span class="p">(</span><span class="n">res</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="o">*</span><span class="nf">kunit_kmalloc</span><span class="p">(</span><span class="k">struct</span> <span class="n">kunit</span> <span class="o">*</span><span class="n">test</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">size</span><span class="p">,</span> <span class="n">gfp_t</span> <span class="n">gfp</span><span class="p">)</span>
<span class="p">{</span>
        <span class="k">struct</span> <span class="n">kunit_kmalloc_params</span> <span class="n">params</span><span class="p">;</span>

        <span class="n">params</span><span class="p">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">size</span><span class="p">;</span>
        <span class="n">params</span><span class="p">.</span><span class="n">gfp</span> <span class="o">=</span> <span class="n">gfp</span><span class="p">;</span>

        <span class="k">return</span> <span class="n">kunit_alloc_resource</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">kunit_kmalloc_init</span><span class="p">,</span>
                <span class="n">kunit_kmalloc_free</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">params</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Resources can also be named, with lookup/removal done on a name
basis also.  <a class="reference internal" href="#c.kunit_add_named_resource" title="kunit_add_named_resource"><code class="xref c c-func docutils literal notranslate"><span class="pre">kunit_add_named_resource()</span></code></a>, <a class="reference internal" href="#c.kunit_find_named_resource" title="kunit_find_named_resource"><code class="xref c c-func docutils literal notranslate"><span class="pre">kunit_find_named_resource()</span></code></a>
and kunit_destroy_named_resource().  Resource names must be
unique within the test instance.</p>
<p><strong>Example</strong></p>
<dl class="type">
<dt id="c.kunit_status">
enum <code class="descname">kunit_status</code><a class="headerlink" href="#c.kunit_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Type of result for a test or test suite</p>
</dd></dl>

<p><strong>Constants</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">KUNIT_SUCCESS</span></code></dt>
<dd>Denotes the test suite has not failed nor been skipped</dd>
<dt><code class="docutils literal notranslate"><span class="pre">KUNIT_FAILURE</span></code></dt>
<dd>Denotes the test has failed.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">KUNIT_SKIPPED</span></code></dt>
<dd>Denotes the test has been skipped.</dd>
</dl>
<dl class="type">
<dt id="c.kunit_case">
struct <code class="descname">kunit_case</code><a class="headerlink" href="#c.kunit_case" title="Permalink to this definition">¶</a></dt>
<dd><p>represents an individual test case.</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct kunit_case {
  void (*run_case)(struct kunit *test);
  const char *name;
  const void* (*generate_params)(const void *prev, char *desc);
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">run_case</span></code></dt>
<dd>the function representing the actual test case.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">name</span></code></dt>
<dd>the name of the test case.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">generate_params</span></code></dt>
<dd>the generator function for parameterized tests.</dd>
</dl>
<p><strong>Description</strong></p>
<p>A test case is a function with the signature,
<code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">(*)(struct</span> <span class="pre">kunit</span> <span class="pre">*)</span></code>
that makes expectations and assertions (see <a class="reference internal" href="#c.KUNIT_EXPECT_TRUE" title="KUNIT_EXPECT_TRUE"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_EXPECT_TRUE()</span></code></a> and
<a class="reference internal" href="#c.KUNIT_ASSERT_TRUE" title="KUNIT_ASSERT_TRUE"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_ASSERT_TRUE()</span></code></a>) about code under test. Each test case is associated
with a <a class="reference internal" href="#c.kunit_suite" title="kunit_suite"><code class="xref c c-type docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit_suite</span></code></a> and will be run after the suite’s init
function and followed by the suite’s exit function.</p>
<p>A test case should be static and should only be created with the
<a class="reference internal" href="#c.KUNIT_CASE" title="KUNIT_CASE"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_CASE()</span></code></a> macro; additionally, every array of test cases should be
terminated with an empty test case.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">add_test_basic</span><span class="p">(</span><span class="k">struct</span> <span class="n">kunit</span> <span class="o">*</span><span class="n">test</span><span class="p">)</span>
<span class="p">{</span>
        <span class="n">KUNIT_EXPECT_EQ</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">add</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">));</span>
        <span class="n">KUNIT_EXPECT_EQ</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">add</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">));</span>
        <span class="n">KUNIT_EXPECT_EQ</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">add</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">));</span>
        <span class="n">KUNIT_EXPECT_EQ</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">INT_MAX</span><span class="p">,</span> <span class="n">add</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">INT_MAX</span><span class="p">));</span>
        <span class="n">KUNIT_EXPECT_EQ</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">add</span><span class="p">(</span><span class="n">INT_MAX</span><span class="p">,</span> <span class="n">INT_MIN</span><span class="p">));</span>
<span class="p">}</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">kunit_case</span> <span class="n">example_test_cases</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">KUNIT_CASE</span><span class="p">(</span><span class="n">add_test_basic</span><span class="p">),</span>
        <span class="p">{}</span>
<span class="p">};</span>
</pre></div>
</div>
<p><strong>Example</strong></p>
<dl class="function">
<dt id="c.KUNIT_CASE">
<code class="descname">KUNIT_CASE</code><span class="sig-paren">(</span><em>test_name</em><span class="sig-paren">)</span><a class="headerlink" href="#c.KUNIT_CASE" title="Permalink to this definition">¶</a></dt>
<dd><p>A helper for creating a <a class="reference internal" href="#c.kunit_case" title="kunit_case"><code class="xref c c-type docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit_case</span></code></a></p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">test_name</span></code></dt>
<dd>a reference to a test case function.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Takes a symbol for a function representing a test case and creates a
<a class="reference internal" href="#c.kunit_case" title="kunit_case"><code class="xref c c-type docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit_case</span></code></a> object from it. See the documentation for
<a class="reference internal" href="#c.kunit_case" title="kunit_case"><code class="xref c c-type docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit_case</span></code></a> for an example on how to use it.</p>
<dl class="function">
<dt id="c.KUNIT_CASE_PARAM">
<code class="descname">KUNIT_CASE_PARAM</code><span class="sig-paren">(</span><em>test_name</em>, <em>gen_params</em><span class="sig-paren">)</span><a class="headerlink" href="#c.KUNIT_CASE_PARAM" title="Permalink to this definition">¶</a></dt>
<dd><p>A helper for creation a parameterized <a class="reference internal" href="#c.kunit_case" title="kunit_case"><code class="xref c c-type docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit_case</span></code></a></p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">test_name</span></code></dt>
<dd>a reference to a test case function.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gen_params</span></code></dt>
<dd>a reference to a parameter generator function.</dd>
</dl>
<p><strong>Description</strong></p>
<p>The generator function:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>const void* gen_params(const void *prev, char *desc)
</pre></div>
</div>
<p>is used to lazily generate a series of arbitrarily typed values that fit into
a void*. The argument <strong>prev</strong> is the previously returned value, which should be
used to derive the next value; <strong>prev</strong> is set to NULL on the initial generator
call. When no more values are available, the generator must return NULL.
Optionally write a string into <strong>desc</strong> (size of KUNIT_PARAM_DESC_SIZE)
describing the parameter.</p>
<dl class="type">
<dt id="c.kunit_suite">
struct <code class="descname">kunit_suite</code><a class="headerlink" href="#c.kunit_suite" title="Permalink to this definition">¶</a></dt>
<dd><p>describes a related collection of <a class="reference internal" href="#c.kunit_case" title="kunit_case"><code class="xref c c-type docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit_case</span></code></a></p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct kunit_suite {
  const char name[256];
  int (*init)(struct kunit *test);
  void (*exit)(struct kunit *test);
  struct kunit_case *test_cases;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">name</span></code></dt>
<dd>the name of the test. Purely informational.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">init</span></code></dt>
<dd>called before every test case.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">exit</span></code></dt>
<dd>called after every test case.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">test_cases</span></code></dt>
<dd>a null terminated array of test cases.</dd>
</dl>
<p><strong>Description</strong></p>
<p>A kunit_suite is a collection of related <a class="reference internal" href="#c.kunit_case" title="kunit_case"><code class="xref c c-type docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit_case</span></code></a> s, such that
<strong>init</strong> is called before every test case and <strong>exit</strong> is called after every
test case, similar to the notion of a <em>test fixture</em> or a <em>test class</em>
in other unit testing frameworks like JUnit or Googletest.</p>
<p>Every <a class="reference internal" href="#c.kunit_case" title="kunit_case"><code class="xref c c-type docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit_case</span></code></a> must be associated with a kunit_suite for KUnit
to run it.</p>
<dl class="type">
<dt id="c.kunit">
struct <code class="descname">kunit</code><a class="headerlink" href="#c.kunit" title="Permalink to this definition">¶</a></dt>
<dd><p>represents a running instance of a test.</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct kunit {
  void *priv;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">priv</span></code></dt>
<dd>for user to store arbitrary data. Commonly used to pass data
created in the init function (see <a class="reference internal" href="#c.kunit_suite" title="kunit_suite"><code class="xref c c-type docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit_suite</span></code></a>).</dd>
</dl>
<p><strong>Description</strong></p>
<p>Used to store information about the current context under which the test
is running. Most of this data is private and should only be accessed
indirectly via public functions; the one exception is <strong>priv</strong> which can be
used by the test writer to store arbitrary data.</p>
<dl class="function">
<dt id="c.kunit_test_suites_for_module">
<code class="descname">kunit_test_suites_for_module</code><span class="sig-paren">(</span><em>__suites</em><span class="sig-paren">)</span><a class="headerlink" href="#c.kunit_test_suites_for_module" title="Permalink to this definition">¶</a></dt>
<dd><p>used to register one or more <a class="reference internal" href="#c.kunit_suite" title="kunit_suite"><code class="xref c c-type docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit_suite</span></code></a> with KUnit.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">__suites</span></code></dt>
<dd>a statically allocated list of <a class="reference internal" href="#c.kunit_suite" title="kunit_suite"><code class="xref c c-type docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit_suite</span></code></a>.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Registers <strong>__suites</strong> with the test framework. See <a class="reference internal" href="#c.kunit_suite" title="kunit_suite"><code class="xref c c-type docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit_suite</span></code></a> for
more information.</p>
<p>If a test suite is built-in, <a class="reference internal" href="../../../driver-api/basics.html#c.module_init" title="module_init"><code class="xref c c-func docutils literal notranslate"><span class="pre">module_init()</span></code></a> gets translated into
an initcall which we don’t want as the idea is that for builtins
the executor will manage execution.  So ensure we do not define
module_{init|exit} functions for the builtin case when registering
suites via <a class="reference internal" href="#c.kunit_test_suites" title="kunit_test_suites"><code class="xref c c-func docutils literal notranslate"><span class="pre">kunit_test_suites()</span></code></a> below.</p>
<dl class="function">
<dt id="c.kunit_test_suites">
<code class="descname">kunit_test_suites</code><span class="sig-paren">(</span><em>__suites…</em><span class="sig-paren">)</span><a class="headerlink" href="#c.kunit_test_suites" title="Permalink to this definition">¶</a></dt>
<dd><p>used to register one or more <a class="reference internal" href="#c.kunit_suite" title="kunit_suite"><code class="xref c c-type docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit_suite</span></code></a> with KUnit.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">__suites...</span></code></dt>
<dd>a statically allocated list of <a class="reference internal" href="#c.kunit_suite" title="kunit_suite"><code class="xref c c-type docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit_suite</span></code></a>.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Registers <strong>suites</strong> with the test framework. See <a class="reference internal" href="#c.kunit_suite" title="kunit_suite"><code class="xref c c-type docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit_suite</span></code></a> for
more information.</p>
<p>When builtin,  KUnit tests are all run via executor; this is done
by placing the array of <a class="reference internal" href="#c.kunit_suite" title="kunit_suite"><code class="xref c c-type docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit_suite</span></code></a> * in the .kunit_test_suites
ELF section.</p>
<p>An alternative is to build the tests as a module.  Because modules do not
support multiple initcall()s, we need to initialize an array of suites for a
module.</p>
<dl class="function">
<dt id="c.kunit_get_resource">
void <code class="descname">kunit_get_resource</code><span class="sig-paren">(</span>struct <a class="reference internal" href="#c.kunit_resource" title="kunit_resource">kunit_resource</a><em>&nbsp;*res</em><span class="sig-paren">)</span><a class="headerlink" href="#c.kunit_get_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Hold resource for use. Should not need to be used by most users as we automatically get resources retrieved by kunit_find_resource*().</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit_resource</span> <span class="pre">*res</span></code></dt>
<dd>resource</dd>
</dl>
<dl class="function">
<dt id="c.kunit_put_resource">
void <code class="descname">kunit_put_resource</code><span class="sig-paren">(</span>struct <a class="reference internal" href="#c.kunit_resource" title="kunit_resource">kunit_resource</a><em>&nbsp;*res</em><span class="sig-paren">)</span><a class="headerlink" href="#c.kunit_put_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>When caller is done with retrieved resource, <a class="reference internal" href="#c.kunit_put_resource" title="kunit_put_resource"><code class="xref c c-func docutils literal notranslate"><span class="pre">kunit_put_resource()</span></code></a> should be called to drop reference count. The resource list maintains a reference count on resources, so if no users are utilizing a resource and it is removed from the resource list, it will be freed via the associated free function (if any). Only needs to be used if we alloc_and_get() or find() resource.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit_resource</span> <span class="pre">*res</span></code></dt>
<dd>resource</dd>
</dl>
<dl class="function">
<dt id="c.kunit_add_resource">
int <code class="descname">kunit_add_resource</code><span class="sig-paren">(</span>struct <a class="reference internal" href="#c.kunit" title="kunit">kunit</a><em>&nbsp;*test</em>, kunit_resource_init_t<em>&nbsp;init</em>, kunit_resource_free_t<em>&nbsp;free</em>, struct <a class="reference internal" href="#c.kunit_resource" title="kunit_resource">kunit_resource</a><em>&nbsp;*res</em>, void<em>&nbsp;*data</em><span class="sig-paren">)</span><a class="headerlink" href="#c.kunit_add_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a <em>test managed resource</em>.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit</span> <span class="pre">*test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">kunit_resource_init_t</span> <span class="pre">init</span></code></dt>
<dd>a user-supplied function to initialize the result (if needed).  If
none is supplied, the resource data value is simply set to <strong>data</strong>.
If an init function is supplied, <strong>data</strong> is passed to it instead.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">kunit_resource_free_t</span> <span class="pre">free</span></code></dt>
<dd>a user-supplied function to free the resource (if needed).</dd>
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit_resource</span> <span class="pre">*res</span></code></dt>
<dd>The resource.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">*data</span></code></dt>
<dd>value to pass to init function or set in resource data field.</dd>
</dl>
<dl class="function">
<dt id="c.kunit_add_named_resource">
int <code class="descname">kunit_add_named_resource</code><span class="sig-paren">(</span>struct <a class="reference internal" href="#c.kunit" title="kunit">kunit</a><em>&nbsp;*test</em>, kunit_resource_init_t<em>&nbsp;init</em>, kunit_resource_free_t<em>&nbsp;free</em>, struct <a class="reference internal" href="#c.kunit_resource" title="kunit_resource">kunit_resource</a><em>&nbsp;*res</em>, const char<em>&nbsp;*name</em>, void<em>&nbsp;*data</em><span class="sig-paren">)</span><a class="headerlink" href="#c.kunit_add_named_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a named <em>test managed resource</em>.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit</span> <span class="pre">*test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">kunit_resource_init_t</span> <span class="pre">init</span></code></dt>
<dd>a user-supplied function to initialize the resource data, if needed.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">kunit_resource_free_t</span> <span class="pre">free</span></code></dt>
<dd>a user-supplied function to free the resource data, if needed.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit_resource</span> <span class="pre">*res</span></code></dt>
<dd>The resource.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">char</span> <span class="pre">*name</span></code></dt>
<dd>name to be set for resource.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">*data</span></code></dt>
<dd>value to pass to init function or set in resource data field.</dd>
</dl>
<dl class="function">
<dt id="c.kunit_alloc_resource">
void * <code class="descname">kunit_alloc_resource</code><span class="sig-paren">(</span>struct <a class="reference internal" href="#c.kunit" title="kunit">kunit</a><em>&nbsp;*test</em>, kunit_resource_init_t<em>&nbsp;init</em>, kunit_resource_free_t<em>&nbsp;free</em>, <a class="reference internal" href="../../../core-api/mm-api.html#c.gfp_t" title="gfp_t">gfp_t</a><em>&nbsp;internal_gfp</em>, void<em>&nbsp;*context</em><span class="sig-paren">)</span><a class="headerlink" href="#c.kunit_alloc_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Allocates a <em>test managed resource</em>.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit</span> <span class="pre">*test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">kunit_resource_init_t</span> <span class="pre">init</span></code></dt>
<dd>a user supplied function to initialize the resource.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">kunit_resource_free_t</span> <span class="pre">free</span></code></dt>
<dd>a user supplied function to free the resource.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gfp_t</span> <span class="pre">internal_gfp</span></code></dt>
<dd>gfp to use for internal allocations, if unsure, use GFP_KERNEL</dd>
<dt><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">*context</span></code></dt>
<dd>for the user to pass in arbitrary data to the init function.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Allocates a <em>test managed resource</em>, a resource which will automatically be
cleaned up at the end of a test case. See <a class="reference internal" href="#c.kunit_resource" title="kunit_resource"><code class="xref c c-type docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit_resource</span></code></a> for an
example.</p>
<p><strong>Note</strong></p>
<p>KUnit needs to allocate memory for a kunit_resource object. You must
specify an <strong>internal_gfp</strong> that is compatible with the use context of your
resource.</p>
<dl class="function">
<dt id="c.kunit_resource_instance_match">
bool <code class="descname">kunit_resource_instance_match</code><span class="sig-paren">(</span>struct <a class="reference internal" href="#c.kunit" title="kunit">kunit</a><em>&nbsp;*test</em>, struct <a class="reference internal" href="#c.kunit_resource" title="kunit_resource">kunit_resource</a><em>&nbsp;*res</em>, void<em>&nbsp;*match_data</em><span class="sig-paren">)</span><a class="headerlink" href="#c.kunit_resource_instance_match" title="Permalink to this definition">¶</a></dt>
<dd><p>Match a resource with the same instance.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit</span> <span class="pre">*test</span></code></dt>
<dd>Test case to which the resource belongs.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit_resource</span> <span class="pre">*res</span></code></dt>
<dd>The resource.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">*match_data</span></code></dt>
<dd>The resource pointer to match against.</dd>
</dl>
<p><strong>Description</strong></p>
<p>An instance of kunit_resource_match_t that matches a resource whose
allocation matches <strong>match_data</strong>.</p>
<dl class="function">
<dt id="c.kunit_resource_name_match">
bool <code class="descname">kunit_resource_name_match</code><span class="sig-paren">(</span>struct <a class="reference internal" href="#c.kunit" title="kunit">kunit</a><em>&nbsp;*test</em>, struct <a class="reference internal" href="#c.kunit_resource" title="kunit_resource">kunit_resource</a><em>&nbsp;*res</em>, void<em>&nbsp;*match_name</em><span class="sig-paren">)</span><a class="headerlink" href="#c.kunit_resource_name_match" title="Permalink to this definition">¶</a></dt>
<dd><p>Match a resource with the same name.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit</span> <span class="pre">*test</span></code></dt>
<dd>Test case to which the resource belongs.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit_resource</span> <span class="pre">*res</span></code></dt>
<dd>The resource.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">*match_name</span></code></dt>
<dd>The name to match against.</dd>
</dl>
<dl class="function">
<dt id="c.kunit_find_resource">
struct <a class="reference internal" href="#c.kunit_resource" title="kunit_resource">kunit_resource</a> * <code class="descname">kunit_find_resource</code><span class="sig-paren">(</span>struct <a class="reference internal" href="#c.kunit" title="kunit">kunit</a><em>&nbsp;*test</em>, kunit_resource_match_t<em>&nbsp;match</em>, void<em>&nbsp;*match_data</em><span class="sig-paren">)</span><a class="headerlink" href="#c.kunit_find_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Find a resource using match function/data.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit</span> <span class="pre">*test</span></code></dt>
<dd>Test case to which the resource belongs.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">kunit_resource_match_t</span> <span class="pre">match</span></code></dt>
<dd>match function to be applied to resources/match data.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">*match_data</span></code></dt>
<dd>data to be used in matching.</dd>
</dl>
<dl class="function">
<dt id="c.kunit_find_named_resource">
struct <a class="reference internal" href="#c.kunit_resource" title="kunit_resource">kunit_resource</a> * <code class="descname">kunit_find_named_resource</code><span class="sig-paren">(</span>struct <a class="reference internal" href="#c.kunit" title="kunit">kunit</a><em>&nbsp;*test</em>, const char<em>&nbsp;*name</em><span class="sig-paren">)</span><a class="headerlink" href="#c.kunit_find_named_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Find a resource using match name.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit</span> <span class="pre">*test</span></code></dt>
<dd>Test case to which the resource belongs.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">char</span> <span class="pre">*name</span></code></dt>
<dd>match name.</dd>
</dl>
<dl class="function">
<dt id="c.kunit_destroy_resource">
int <code class="descname">kunit_destroy_resource</code><span class="sig-paren">(</span>struct <a class="reference internal" href="#c.kunit" title="kunit">kunit</a><em>&nbsp;*test</em>, kunit_resource_match_t<em>&nbsp;match</em>, void<em>&nbsp;*match_data</em><span class="sig-paren">)</span><a class="headerlink" href="#c.kunit_destroy_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Find a kunit_resource and destroy it.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit</span> <span class="pre">*test</span></code></dt>
<dd>Test case to which the resource belongs.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">kunit_resource_match_t</span> <span class="pre">match</span></code></dt>
<dd>Match function. Returns whether a given resource matches <strong>match_data</strong>.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">*match_data</span></code></dt>
<dd>Data passed into <strong>match</strong>.</dd>
</dl>
<p><strong>Return</strong></p>
<p>0 if kunit_resource is found and freed, -ENOENT if not found.</p>
<dl class="function">
<dt id="c.kunit_remove_resource">
void <code class="descname">kunit_remove_resource</code><span class="sig-paren">(</span>struct <a class="reference internal" href="#c.kunit" title="kunit">kunit</a><em>&nbsp;*test</em>, struct <a class="reference internal" href="#c.kunit_resource" title="kunit_resource">kunit_resource</a><em>&nbsp;*res</em><span class="sig-paren">)</span><a class="headerlink" href="#c.kunit_remove_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>remove resource from resource list associated with test.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit</span> <span class="pre">*test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit_resource</span> <span class="pre">*res</span></code></dt>
<dd>The resource to be removed.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Note that the resource will not be immediately freed since it is likely
the caller has a reference to it via alloc_and_get() or find();
in this case a final call to <a class="reference internal" href="#c.kunit_put_resource" title="kunit_put_resource"><code class="xref c c-func docutils literal notranslate"><span class="pre">kunit_put_resource()</span></code></a> is required.</p>
<dl class="function">
<dt id="c.kunit_kmalloc_array">
void * <code class="descname">kunit_kmalloc_array</code><span class="sig-paren">(</span>struct <a class="reference internal" href="#c.kunit" title="kunit">kunit</a><em>&nbsp;*test</em>, size_t<em>&nbsp;n</em>, size_t<em>&nbsp;size</em>, <a class="reference internal" href="../../../core-api/mm-api.html#c.gfp_t" title="gfp_t">gfp_t</a><em>&nbsp;gfp</em><span class="sig-paren">)</span><a class="headerlink" href="#c.kunit_kmalloc_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="../../../core-api/mm-api.html#c.kmalloc_array" title="kmalloc_array"><code class="xref c c-func docutils literal notranslate"><span class="pre">kmalloc_array()</span></code></a> except the allocation is <em>test managed</em>.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit</span> <span class="pre">*test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">size_t</span> <span class="pre">n</span></code></dt>
<dd>number of elements.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">size_t</span> <span class="pre">size</span></code></dt>
<dd>The size in bytes of the desired memory.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gfp_t</span> <span class="pre">gfp</span></code></dt>
<dd>flags passed to underlying <a class="reference internal" href="../../../core-api/mm-api.html#c.kmalloc" title="kmalloc"><code class="xref c c-func docutils literal notranslate"><span class="pre">kmalloc()</span></code></a>.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Just like <cite>kmalloc_array(…)</cite>, except the allocation is managed by the test case
and is automatically cleaned up after the test case concludes. See <a class="reference internal" href="#c.kunit_resource" title="kunit_resource"><code class="xref c c-type docutils literal notranslate"><span class="pre">struct</span>
<span class="pre">kunit_resource</span></code></a> for more information.</p>
<dl class="function">
<dt id="c.kunit_kmalloc">
void * <code class="descname">kunit_kmalloc</code><span class="sig-paren">(</span>struct <a class="reference internal" href="#c.kunit" title="kunit">kunit</a><em>&nbsp;*test</em>, size_t<em>&nbsp;size</em>, <a class="reference internal" href="../../../core-api/mm-api.html#c.gfp_t" title="gfp_t">gfp_t</a><em>&nbsp;gfp</em><span class="sig-paren">)</span><a class="headerlink" href="#c.kunit_kmalloc" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="../../../core-api/mm-api.html#c.kmalloc" title="kmalloc"><code class="xref c c-func docutils literal notranslate"><span class="pre">kmalloc()</span></code></a> except the allocation is <em>test managed</em>.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit</span> <span class="pre">*test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">size_t</span> <span class="pre">size</span></code></dt>
<dd>The size in bytes of the desired memory.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gfp_t</span> <span class="pre">gfp</span></code></dt>
<dd>flags passed to underlying <a class="reference internal" href="../../../core-api/mm-api.html#c.kmalloc" title="kmalloc"><code class="xref c c-func docutils literal notranslate"><span class="pre">kmalloc()</span></code></a>.</dd>
</dl>
<p><strong>Description</strong></p>
<p>See <a class="reference internal" href="../../../core-api/mm-api.html#c.kmalloc" title="kmalloc"><code class="xref c c-func docutils literal notranslate"><span class="pre">kmalloc()</span></code></a> and <a class="reference internal" href="#c.kunit_kmalloc_array" title="kunit_kmalloc_array"><code class="xref c c-func docutils literal notranslate"><span class="pre">kunit_kmalloc_array()</span></code></a> for more information.</p>
<dl class="function">
<dt id="c.kunit_kfree">
void <code class="descname">kunit_kfree</code><span class="sig-paren">(</span>struct <a class="reference internal" href="#c.kunit" title="kunit">kunit</a><em>&nbsp;*test</em>, const void<em>&nbsp;*ptr</em><span class="sig-paren">)</span><a class="headerlink" href="#c.kunit_kfree" title="Permalink to this definition">¶</a></dt>
<dd><p>Like kfree except for allocations managed by KUnit.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit</span> <span class="pre">*test</span></code></dt>
<dd>The test case to which the resource belongs.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">void</span> <span class="pre">*ptr</span></code></dt>
<dd>The memory allocation to free.</dd>
</dl>
<dl class="function">
<dt id="c.kunit_kzalloc">
void * <code class="descname">kunit_kzalloc</code><span class="sig-paren">(</span>struct <a class="reference internal" href="#c.kunit" title="kunit">kunit</a><em>&nbsp;*test</em>, size_t<em>&nbsp;size</em>, <a class="reference internal" href="../../../core-api/mm-api.html#c.gfp_t" title="gfp_t">gfp_t</a><em>&nbsp;gfp</em><span class="sig-paren">)</span><a class="headerlink" href="#c.kunit_kzalloc" title="Permalink to this definition">¶</a></dt>
<dd><p>Just like <a class="reference internal" href="#c.kunit_kmalloc" title="kunit_kmalloc"><code class="xref c c-func docutils literal notranslate"><span class="pre">kunit_kmalloc()</span></code></a>, but zeroes the allocation.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit</span> <span class="pre">*test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">size_t</span> <span class="pre">size</span></code></dt>
<dd>The size in bytes of the desired memory.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gfp_t</span> <span class="pre">gfp</span></code></dt>
<dd>flags passed to underlying <a class="reference internal" href="../../../core-api/mm-api.html#c.kmalloc" title="kmalloc"><code class="xref c c-func docutils literal notranslate"><span class="pre">kmalloc()</span></code></a>.</dd>
</dl>
<p><strong>Description</strong></p>
<p>See <a class="reference internal" href="../../../core-api/mm-api.html#c.kzalloc" title="kzalloc"><code class="xref c c-func docutils literal notranslate"><span class="pre">kzalloc()</span></code></a> and <a class="reference internal" href="#c.kunit_kmalloc_array" title="kunit_kmalloc_array"><code class="xref c c-func docutils literal notranslate"><span class="pre">kunit_kmalloc_array()</span></code></a> for more information.</p>
<dl class="function">
<dt id="c.kunit_kcalloc">
void * <code class="descname">kunit_kcalloc</code><span class="sig-paren">(</span>struct <a class="reference internal" href="#c.kunit" title="kunit">kunit</a><em>&nbsp;*test</em>, size_t<em>&nbsp;n</em>, size_t<em>&nbsp;size</em>, <a class="reference internal" href="../../../core-api/mm-api.html#c.gfp_t" title="gfp_t">gfp_t</a><em>&nbsp;gfp</em><span class="sig-paren">)</span><a class="headerlink" href="#c.kunit_kcalloc" title="Permalink to this definition">¶</a></dt>
<dd><p>Just like <a class="reference internal" href="#c.kunit_kmalloc_array" title="kunit_kmalloc_array"><code class="xref c c-func docutils literal notranslate"><span class="pre">kunit_kmalloc_array()</span></code></a>, but zeroes the allocation.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">kunit</span> <span class="pre">*test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">size_t</span> <span class="pre">n</span></code></dt>
<dd>number of elements.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">size_t</span> <span class="pre">size</span></code></dt>
<dd>The size in bytes of the desired memory.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gfp_t</span> <span class="pre">gfp</span></code></dt>
<dd>flags passed to underlying <a class="reference internal" href="../../../core-api/mm-api.html#c.kmalloc" title="kmalloc"><code class="xref c c-func docutils literal notranslate"><span class="pre">kmalloc()</span></code></a>.</dd>
</dl>
<p><strong>Description</strong></p>
<p>See <a class="reference internal" href="../../../core-api/mm-api.html#c.kcalloc" title="kcalloc"><code class="xref c c-func docutils literal notranslate"><span class="pre">kcalloc()</span></code></a> and <a class="reference internal" href="#c.kunit_kmalloc_array" title="kunit_kmalloc_array"><code class="xref c c-func docutils literal notranslate"><span class="pre">kunit_kmalloc_array()</span></code></a> for more information.</p>
<dl class="function">
<dt id="c.kunit_mark_skipped">
<code class="descname">kunit_mark_skipped</code><span class="sig-paren">(</span><em>test_or_suite</em>, <em>fmt</em>, <em>…</em><span class="sig-paren">)</span><a class="headerlink" href="#c.kunit_mark_skipped" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks <strong>test_or_suite</strong> as skipped</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">test_or_suite</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">fmt</span></code></dt>
<dd>A <a class="reference internal" href="../../../core-api/printk-basics.html#c.printk" title="printk"><code class="xref c c-func docutils literal notranslate"><span class="pre">printk()</span></code></a> style format string.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">...</span></code></dt>
<dd>variable arguments</dd>
</dl>
<p><strong>Description</strong></p>
<p>Marks the test as skipped. <strong>fmt</strong> is given output as the test status
comment, typically the reason the test was skipped.</p>
<p>Test execution continues after <a class="reference internal" href="#c.kunit_mark_skipped" title="kunit_mark_skipped"><code class="xref c c-func docutils literal notranslate"><span class="pre">kunit_mark_skipped()</span></code></a> is called.</p>
<dl class="function">
<dt id="c.kunit_skip">
<code class="descname">kunit_skip</code><span class="sig-paren">(</span><em>test_or_suite</em>, <em>fmt</em>, <em>…</em><span class="sig-paren">)</span><a class="headerlink" href="#c.kunit_skip" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks <strong>test_or_suite</strong> as skipped</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">test_or_suite</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">fmt</span></code></dt>
<dd>A <a class="reference internal" href="../../../core-api/printk-basics.html#c.printk" title="printk"><code class="xref c c-func docutils literal notranslate"><span class="pre">printk()</span></code></a> style format string.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">...</span></code></dt>
<dd>variable arguments</dd>
</dl>
<p><strong>Description</strong></p>
<p>Skips the test. <strong>fmt</strong> is given output as the test status
comment, typically the reason the test was skipped.</p>
<p>Test execution is halted after <a class="reference internal" href="#c.kunit_skip" title="kunit_skip"><code class="xref c c-func docutils literal notranslate"><span class="pre">kunit_skip()</span></code></a> is called.</p>
<dl class="function">
<dt id="c.kunit_info">
<code class="descname">kunit_info</code><span class="sig-paren">(</span><em>test</em>, <em>fmt</em>, <em>…</em><span class="sig-paren">)</span><a class="headerlink" href="#c.kunit_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints an INFO level message associated with <strong>test</strong>.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">fmt</span></code></dt>
<dd>A <a class="reference internal" href="../../../core-api/printk-basics.html#c.printk" title="printk"><code class="xref c c-func docutils literal notranslate"><span class="pre">printk()</span></code></a> style format string.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">...</span></code></dt>
<dd>variable arguments</dd>
</dl>
<p><strong>Description</strong></p>
<p>Prints an info level message associated with the test suite being run.
Takes a variable number of format parameters just like <a class="reference internal" href="../../../core-api/printk-basics.html#c.printk" title="printk"><code class="xref c c-func docutils literal notranslate"><span class="pre">printk()</span></code></a>.</p>
<dl class="function">
<dt id="c.kunit_warn">
<code class="descname">kunit_warn</code><span class="sig-paren">(</span><em>test</em>, <em>fmt</em>, <em>…</em><span class="sig-paren">)</span><a class="headerlink" href="#c.kunit_warn" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints a WARN level message associated with <strong>test</strong>.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">fmt</span></code></dt>
<dd>A <a class="reference internal" href="../../../core-api/printk-basics.html#c.printk" title="printk"><code class="xref c c-func docutils literal notranslate"><span class="pre">printk()</span></code></a> style format string.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">...</span></code></dt>
<dd>variable arguments</dd>
</dl>
<p><strong>Description</strong></p>
<p>Prints a warning level message.</p>
<dl class="function">
<dt id="c.kunit_err">
<code class="descname">kunit_err</code><span class="sig-paren">(</span><em>test</em>, <em>fmt</em>, <em>…</em><span class="sig-paren">)</span><a class="headerlink" href="#c.kunit_err" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints an ERROR level message associated with <strong>test</strong>.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">fmt</span></code></dt>
<dd>A <a class="reference internal" href="../../../core-api/printk-basics.html#c.printk" title="printk"><code class="xref c c-func docutils literal notranslate"><span class="pre">printk()</span></code></a> style format string.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">...</span></code></dt>
<dd>variable arguments</dd>
</dl>
<p><strong>Description</strong></p>
<p>Prints an error level message.</p>
<dl class="function">
<dt id="c.KUNIT_SUCCEED">
<code class="descname">KUNIT_SUCCEED</code><span class="sig-paren">(</span><em>test</em><span class="sig-paren">)</span><a class="headerlink" href="#c.KUNIT_SUCCEED" title="Permalink to this definition">¶</a></dt>
<dd><p>A no-op expectation. Only exists for code clarity.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">test</span></code></dt>
<dd>The test context object.</dd>
</dl>
<p><strong>Description</strong></p>
<p>The opposite of <a class="reference internal" href="#c.KUNIT_FAIL" title="KUNIT_FAIL"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_FAIL()</span></code></a>, it is an expectation that cannot fail. In other
words, it does nothing and only exists for code clarity. See
<a class="reference internal" href="#c.KUNIT_EXPECT_TRUE" title="KUNIT_EXPECT_TRUE"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_EXPECT_TRUE()</span></code></a> for more information.</p>
<dl class="function">
<dt id="c.KUNIT_FAIL">
<code class="descname">KUNIT_FAIL</code><span class="sig-paren">(</span><em>test</em>, <em>fmt</em>, <em>…</em><span class="sig-paren">)</span><a class="headerlink" href="#c.KUNIT_FAIL" title="Permalink to this definition">¶</a></dt>
<dd><p>Always causes a test to fail when evaluated.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">fmt</span></code></dt>
<dd>an informational message to be printed when the assertion is made.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">...</span></code></dt>
<dd>string format arguments.</dd>
</dl>
<p><strong>Description</strong></p>
<p>The opposite of <a class="reference internal" href="#c.KUNIT_SUCCEED" title="KUNIT_SUCCEED"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_SUCCEED()</span></code></a>, it is an expectation that always fails. In
other words, it always results in a failed expectation, and consequently
always causes the test case to fail when evaluated. See <a class="reference internal" href="#c.KUNIT_EXPECT_TRUE" title="KUNIT_EXPECT_TRUE"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_EXPECT_TRUE()</span></code></a>
for more information.</p>
<dl class="function">
<dt id="c.KUNIT_EXPECT_TRUE">
<code class="descname">KUNIT_EXPECT_TRUE</code><span class="sig-paren">(</span><em>test</em>, <em>condition</em><span class="sig-paren">)</span><a class="headerlink" href="#c.KUNIT_EXPECT_TRUE" title="Permalink to this definition">¶</a></dt>
<dd><p>Causes a test failure when the expression is not true.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">condition</span></code></dt>
<dd>an arbitrary boolean expression. The test fails when this does
not evaluate to true.</dd>
</dl>
<p><strong>Description</strong></p>
<p>This and expectations of the form <cite>KUNIT_EXPECT_*</cite> will cause the test case
to fail when the specified condition is not met; however, it will not prevent
the test case from continuing to run; this is otherwise known as an
<em>expectation failure</em>.</p>
<dl class="function">
<dt id="c.KUNIT_EXPECT_FALSE">
<code class="descname">KUNIT_EXPECT_FALSE</code><span class="sig-paren">(</span><em>test</em>, <em>condition</em><span class="sig-paren">)</span><a class="headerlink" href="#c.KUNIT_EXPECT_FALSE" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes a test failure when the expression is not false.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">condition</span></code></dt>
<dd>an arbitrary boolean expression. The test fails when this does
not evaluate to false.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Sets an expectation that <strong>condition</strong> evaluates to false. See
<a class="reference internal" href="#c.KUNIT_EXPECT_TRUE" title="KUNIT_EXPECT_TRUE"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_EXPECT_TRUE()</span></code></a> for more information.</p>
<dl class="function">
<dt id="c.KUNIT_EXPECT_EQ">
<code class="descname">KUNIT_EXPECT_EQ</code><span class="sig-paren">(</span><em>test</em>, <em>left</em>, <em>right</em><span class="sig-paren">)</span><a class="headerlink" href="#c.KUNIT_EXPECT_EQ" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets an expectation that <strong>left</strong> and <strong>right</strong> are equal.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">left</span></code></dt>
<dd>an arbitrary expression that evaluates to a primitive C type.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">right</span></code></dt>
<dd>an arbitrary expression that evaluates to a primitive C type.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Sets an expectation that the values that <strong>left</strong> and <strong>right</strong> evaluate to are
equal. This is semantically equivalent to
KUNIT_EXPECT_TRUE(<strong>test</strong>, (<strong>left</strong>) == (<strong>right</strong>)). See <a class="reference internal" href="#c.KUNIT_EXPECT_TRUE" title="KUNIT_EXPECT_TRUE"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_EXPECT_TRUE()</span></code></a> for
more information.</p>
<dl class="function">
<dt id="c.KUNIT_EXPECT_PTR_EQ">
<code class="descname">KUNIT_EXPECT_PTR_EQ</code><span class="sig-paren">(</span><em>test</em>, <em>left</em>, <em>right</em><span class="sig-paren">)</span><a class="headerlink" href="#c.KUNIT_EXPECT_PTR_EQ" title="Permalink to this definition">¶</a></dt>
<dd><p>Expects that pointers <strong>left</strong> and <strong>right</strong> are equal.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">left</span></code></dt>
<dd>an arbitrary expression that evaluates to a pointer.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">right</span></code></dt>
<dd>an arbitrary expression that evaluates to a pointer.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Sets an expectation that the values that <strong>left</strong> and <strong>right</strong> evaluate to are
equal. This is semantically equivalent to
KUNIT_EXPECT_TRUE(<strong>test</strong>, (<strong>left</strong>) == (<strong>right</strong>)). See <a class="reference internal" href="#c.KUNIT_EXPECT_TRUE" title="KUNIT_EXPECT_TRUE"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_EXPECT_TRUE()</span></code></a> for
more information.</p>
<dl class="function">
<dt id="c.KUNIT_EXPECT_NE">
<code class="descname">KUNIT_EXPECT_NE</code><span class="sig-paren">(</span><em>test</em>, <em>left</em>, <em>right</em><span class="sig-paren">)</span><a class="headerlink" href="#c.KUNIT_EXPECT_NE" title="Permalink to this definition">¶</a></dt>
<dd><p>An expectation that <strong>left</strong> and <strong>right</strong> are not equal.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">left</span></code></dt>
<dd>an arbitrary expression that evaluates to a primitive C type.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">right</span></code></dt>
<dd>an arbitrary expression that evaluates to a primitive C type.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Sets an expectation that the values that <strong>left</strong> and <strong>right</strong> evaluate to are not
equal. This is semantically equivalent to
KUNIT_EXPECT_TRUE(<strong>test</strong>, (<strong>left</strong>) != (<strong>right</strong>)). See <a class="reference internal" href="#c.KUNIT_EXPECT_TRUE" title="KUNIT_EXPECT_TRUE"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_EXPECT_TRUE()</span></code></a> for
more information.</p>
<dl class="function">
<dt id="c.KUNIT_EXPECT_PTR_NE">
<code class="descname">KUNIT_EXPECT_PTR_NE</code><span class="sig-paren">(</span><em>test</em>, <em>left</em>, <em>right</em><span class="sig-paren">)</span><a class="headerlink" href="#c.KUNIT_EXPECT_PTR_NE" title="Permalink to this definition">¶</a></dt>
<dd><p>Expects that pointers <strong>left</strong> and <strong>right</strong> are not equal.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">left</span></code></dt>
<dd>an arbitrary expression that evaluates to a pointer.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">right</span></code></dt>
<dd>an arbitrary expression that evaluates to a pointer.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Sets an expectation that the values that <strong>left</strong> and <strong>right</strong> evaluate to are not
equal. This is semantically equivalent to
KUNIT_EXPECT_TRUE(<strong>test</strong>, (<strong>left</strong>) != (<strong>right</strong>)). See <a class="reference internal" href="#c.KUNIT_EXPECT_TRUE" title="KUNIT_EXPECT_TRUE"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_EXPECT_TRUE()</span></code></a> for
more information.</p>
<dl class="function">
<dt id="c.KUNIT_EXPECT_LT">
<code class="descname">KUNIT_EXPECT_LT</code><span class="sig-paren">(</span><em>test</em>, <em>left</em>, <em>right</em><span class="sig-paren">)</span><a class="headerlink" href="#c.KUNIT_EXPECT_LT" title="Permalink to this definition">¶</a></dt>
<dd><p>An expectation that <strong>left</strong> is less than <strong>right</strong>.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">left</span></code></dt>
<dd>an arbitrary expression that evaluates to a primitive C type.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">right</span></code></dt>
<dd>an arbitrary expression that evaluates to a primitive C type.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Sets an expectation that the value that <strong>left</strong> evaluates to is less than the
value that <strong>right</strong> evaluates to. This is semantically equivalent to
KUNIT_EXPECT_TRUE(<strong>test</strong>, (<strong>left</strong>) &lt; (<strong>right</strong>)). See <a class="reference internal" href="#c.KUNIT_EXPECT_TRUE" title="KUNIT_EXPECT_TRUE"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_EXPECT_TRUE()</span></code></a> for
more information.</p>
<dl class="function">
<dt id="c.KUNIT_EXPECT_LE">
<code class="descname">KUNIT_EXPECT_LE</code><span class="sig-paren">(</span><em>test</em>, <em>left</em>, <em>right</em><span class="sig-paren">)</span><a class="headerlink" href="#c.KUNIT_EXPECT_LE" title="Permalink to this definition">¶</a></dt>
<dd><p>Expects that <strong>left</strong> is less than or equal to <strong>right</strong>.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">left</span></code></dt>
<dd>an arbitrary expression that evaluates to a primitive C type.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">right</span></code></dt>
<dd>an arbitrary expression that evaluates to a primitive C type.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Sets an expectation that the value that <strong>left</strong> evaluates to is less than or
equal to the value that <strong>right</strong> evaluates to. Semantically this is equivalent
to KUNIT_EXPECT_TRUE(<strong>test</strong>, (<strong>left</strong>) &lt;= (<strong>right</strong>)). See <a class="reference internal" href="#c.KUNIT_EXPECT_TRUE" title="KUNIT_EXPECT_TRUE"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_EXPECT_TRUE()</span></code></a> for
more information.</p>
<dl class="function">
<dt id="c.KUNIT_EXPECT_GT">
<code class="descname">KUNIT_EXPECT_GT</code><span class="sig-paren">(</span><em>test</em>, <em>left</em>, <em>right</em><span class="sig-paren">)</span><a class="headerlink" href="#c.KUNIT_EXPECT_GT" title="Permalink to this definition">¶</a></dt>
<dd><p>An expectation that <strong>left</strong> is greater than <strong>right</strong>.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">left</span></code></dt>
<dd>an arbitrary expression that evaluates to a primitive C type.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">right</span></code></dt>
<dd>an arbitrary expression that evaluates to a primitive C type.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Sets an expectation that the value that <strong>left</strong> evaluates to is greater than
the value that <strong>right</strong> evaluates to. This is semantically equivalent to
KUNIT_EXPECT_TRUE(<strong>test</strong>, (<strong>left</strong>) &gt; (<strong>right</strong>)). See <a class="reference internal" href="#c.KUNIT_EXPECT_TRUE" title="KUNIT_EXPECT_TRUE"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_EXPECT_TRUE()</span></code></a> for
more information.</p>
<dl class="function">
<dt id="c.KUNIT_EXPECT_GE">
<code class="descname">KUNIT_EXPECT_GE</code><span class="sig-paren">(</span><em>test</em>, <em>left</em>, <em>right</em><span class="sig-paren">)</span><a class="headerlink" href="#c.KUNIT_EXPECT_GE" title="Permalink to this definition">¶</a></dt>
<dd><p>Expects that <strong>left</strong> is greater than or equal to <strong>right</strong>.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">left</span></code></dt>
<dd>an arbitrary expression that evaluates to a primitive C type.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">right</span></code></dt>
<dd>an arbitrary expression that evaluates to a primitive C type.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Sets an expectation that the value that <strong>left</strong> evaluates to is greater than
the value that <strong>right</strong> evaluates to. This is semantically equivalent to
KUNIT_EXPECT_TRUE(<strong>test</strong>, (<strong>left</strong>) &gt;= (<strong>right</strong>)). See <a class="reference internal" href="#c.KUNIT_EXPECT_TRUE" title="KUNIT_EXPECT_TRUE"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_EXPECT_TRUE()</span></code></a> for
more information.</p>
<dl class="function">
<dt id="c.KUNIT_EXPECT_STREQ">
<code class="descname">KUNIT_EXPECT_STREQ</code><span class="sig-paren">(</span><em>test</em>, <em>left</em>, <em>right</em><span class="sig-paren">)</span><a class="headerlink" href="#c.KUNIT_EXPECT_STREQ" title="Permalink to this definition">¶</a></dt>
<dd><p>Expects that strings <strong>left</strong> and <strong>right</strong> are equal.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">left</span></code></dt>
<dd>an arbitrary expression that evaluates to a null terminated string.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">right</span></code></dt>
<dd>an arbitrary expression that evaluates to a null terminated string.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Sets an expectation that the values that <strong>left</strong> and <strong>right</strong> evaluate to are
equal. This is semantically equivalent to
KUNIT_EXPECT_TRUE(<strong>test</strong>, !strcmp((<strong>left</strong>), (<strong>right</strong>))). See <a class="reference internal" href="#c.KUNIT_EXPECT_TRUE" title="KUNIT_EXPECT_TRUE"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_EXPECT_TRUE()</span></code></a>
for more information.</p>
<dl class="function">
<dt id="c.KUNIT_EXPECT_STRNEQ">
<code class="descname">KUNIT_EXPECT_STRNEQ</code><span class="sig-paren">(</span><em>test</em>, <em>left</em>, <em>right</em><span class="sig-paren">)</span><a class="headerlink" href="#c.KUNIT_EXPECT_STRNEQ" title="Permalink to this definition">¶</a></dt>
<dd><p>Expects that strings <strong>left</strong> and <strong>right</strong> are not equal.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">left</span></code></dt>
<dd>an arbitrary expression that evaluates to a null terminated string.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">right</span></code></dt>
<dd>an arbitrary expression that evaluates to a null terminated string.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Sets an expectation that the values that <strong>left</strong> and <strong>right</strong> evaluate to are
not equal. This is semantically equivalent to
KUNIT_EXPECT_TRUE(<strong>test</strong>, strcmp((<strong>left</strong>), (<strong>right</strong>))). See <a class="reference internal" href="#c.KUNIT_EXPECT_TRUE" title="KUNIT_EXPECT_TRUE"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_EXPECT_TRUE()</span></code></a>
for more information.</p>
<dl class="function">
<dt id="c.KUNIT_EXPECT_NOT_ERR_OR_NULL">
<code class="descname">KUNIT_EXPECT_NOT_ERR_OR_NULL</code><span class="sig-paren">(</span><em>test</em>, <em>ptr</em><span class="sig-paren">)</span><a class="headerlink" href="#c.KUNIT_EXPECT_NOT_ERR_OR_NULL" title="Permalink to this definition">¶</a></dt>
<dd><p>Expects that <strong>ptr</strong> is not null and not err.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ptr</span></code></dt>
<dd>an arbitrary pointer.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Sets an expectation that the value that <strong>ptr</strong> evaluates to is not null and not
an errno stored in a pointer. This is semantically equivalent to
KUNIT_EXPECT_TRUE(<strong>test</strong>, !IS_ERR_OR_NULL(<strong>ptr</strong>)). See <a class="reference internal" href="#c.KUNIT_EXPECT_TRUE" title="KUNIT_EXPECT_TRUE"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_EXPECT_TRUE()</span></code></a> for
more information.</p>
<dl class="function">
<dt id="c.KUNIT_ASSERT_TRUE">
<code class="descname">KUNIT_ASSERT_TRUE</code><span class="sig-paren">(</span><em>test</em>, <em>condition</em><span class="sig-paren">)</span><a class="headerlink" href="#c.KUNIT_ASSERT_TRUE" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets an assertion that <strong>condition</strong> is true.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">condition</span></code></dt>
<dd>an arbitrary boolean expression. The test fails and aborts when
this does not evaluate to true.</dd>
</dl>
<p><strong>Description</strong></p>
<p>This and assertions of the form <cite>KUNIT_ASSERT_*</cite> will cause the test case to
fail <em>and immediately abort</em> when the specified condition is not met. Unlike
an expectation failure, it will prevent the test case from continuing to run;
this is otherwise known as an <em>assertion failure</em>.</p>
<dl class="function">
<dt id="c.KUNIT_ASSERT_FALSE">
<code class="descname">KUNIT_ASSERT_FALSE</code><span class="sig-paren">(</span><em>test</em>, <em>condition</em><span class="sig-paren">)</span><a class="headerlink" href="#c.KUNIT_ASSERT_FALSE" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets an assertion that <strong>condition</strong> is false.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">condition</span></code></dt>
<dd>an arbitrary boolean expression.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Sets an assertion that the value that <strong>condition</strong> evaluates to is false. This
is the same as <a class="reference internal" href="#c.KUNIT_EXPECT_FALSE" title="KUNIT_EXPECT_FALSE"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_EXPECT_FALSE()</span></code></a>, except it causes an assertion failure
(see <a class="reference internal" href="#c.KUNIT_ASSERT_TRUE" title="KUNIT_ASSERT_TRUE"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_ASSERT_TRUE()</span></code></a>) when the assertion is not met.</p>
<dl class="function">
<dt id="c.KUNIT_ASSERT_EQ">
<code class="descname">KUNIT_ASSERT_EQ</code><span class="sig-paren">(</span><em>test</em>, <em>left</em>, <em>right</em><span class="sig-paren">)</span><a class="headerlink" href="#c.KUNIT_ASSERT_EQ" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets an assertion that <strong>left</strong> and <strong>right</strong> are equal.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">left</span></code></dt>
<dd>an arbitrary expression that evaluates to a primitive C type.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">right</span></code></dt>
<dd>an arbitrary expression that evaluates to a primitive C type.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Sets an assertion that the values that <strong>left</strong> and <strong>right</strong> evaluate to are
equal. This is the same as <a class="reference internal" href="#c.KUNIT_EXPECT_EQ" title="KUNIT_EXPECT_EQ"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_EXPECT_EQ()</span></code></a>, except it causes an assertion
failure (see <a class="reference internal" href="#c.KUNIT_ASSERT_TRUE" title="KUNIT_ASSERT_TRUE"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_ASSERT_TRUE()</span></code></a>) when the assertion is not met.</p>
<dl class="function">
<dt id="c.KUNIT_ASSERT_PTR_EQ">
<code class="descname">KUNIT_ASSERT_PTR_EQ</code><span class="sig-paren">(</span><em>test</em>, <em>left</em>, <em>right</em><span class="sig-paren">)</span><a class="headerlink" href="#c.KUNIT_ASSERT_PTR_EQ" title="Permalink to this definition">¶</a></dt>
<dd><p>Asserts that pointers <strong>left</strong> and <strong>right</strong> are equal.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">left</span></code></dt>
<dd>an arbitrary expression that evaluates to a pointer.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">right</span></code></dt>
<dd>an arbitrary expression that evaluates to a pointer.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Sets an assertion that the values that <strong>left</strong> and <strong>right</strong> evaluate to are
equal. This is the same as <a class="reference internal" href="#c.KUNIT_EXPECT_EQ" title="KUNIT_EXPECT_EQ"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_EXPECT_EQ()</span></code></a>, except it causes an assertion
failure (see <a class="reference internal" href="#c.KUNIT_ASSERT_TRUE" title="KUNIT_ASSERT_TRUE"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_ASSERT_TRUE()</span></code></a>) when the assertion is not met.</p>
<dl class="function">
<dt id="c.KUNIT_ASSERT_NE">
<code class="descname">KUNIT_ASSERT_NE</code><span class="sig-paren">(</span><em>test</em>, <em>left</em>, <em>right</em><span class="sig-paren">)</span><a class="headerlink" href="#c.KUNIT_ASSERT_NE" title="Permalink to this definition">¶</a></dt>
<dd><p>An assertion that <strong>left</strong> and <strong>right</strong> are not equal.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">left</span></code></dt>
<dd>an arbitrary expression that evaluates to a primitive C type.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">right</span></code></dt>
<dd>an arbitrary expression that evaluates to a primitive C type.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Sets an assertion that the values that <strong>left</strong> and <strong>right</strong> evaluate to are not
equal. This is the same as <a class="reference internal" href="#c.KUNIT_EXPECT_NE" title="KUNIT_EXPECT_NE"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_EXPECT_NE()</span></code></a>, except it causes an assertion
failure (see <a class="reference internal" href="#c.KUNIT_ASSERT_TRUE" title="KUNIT_ASSERT_TRUE"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_ASSERT_TRUE()</span></code></a>) when the assertion is not met.</p>
<dl class="function">
<dt id="c.KUNIT_ASSERT_PTR_NE">
<code class="descname">KUNIT_ASSERT_PTR_NE</code><span class="sig-paren">(</span><em>test</em>, <em>left</em>, <em>right</em><span class="sig-paren">)</span><a class="headerlink" href="#c.KUNIT_ASSERT_PTR_NE" title="Permalink to this definition">¶</a></dt>
<dd><p>Asserts that pointers <strong>left</strong> and <strong>right</strong> are not equal. <a class="reference internal" href="#c.KUNIT_ASSERT_PTR_EQ" title="KUNIT_ASSERT_PTR_EQ"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_ASSERT_PTR_EQ()</span></code></a> - Asserts that pointers <strong>left</strong> and <strong>right</strong> are equal.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">left</span></code></dt>
<dd>an arbitrary expression that evaluates to a pointer.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">right</span></code></dt>
<dd>an arbitrary expression that evaluates to a pointer.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Sets an assertion that the values that <strong>left</strong> and <strong>right</strong> evaluate to are not
equal. This is the same as <a class="reference internal" href="#c.KUNIT_EXPECT_NE" title="KUNIT_EXPECT_NE"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_EXPECT_NE()</span></code></a>, except it causes an assertion
failure (see <a class="reference internal" href="#c.KUNIT_ASSERT_TRUE" title="KUNIT_ASSERT_TRUE"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_ASSERT_TRUE()</span></code></a>) when the assertion is not met.</p>
<dl class="function">
<dt id="c.KUNIT_ASSERT_LT">
<code class="descname">KUNIT_ASSERT_LT</code><span class="sig-paren">(</span><em>test</em>, <em>left</em>, <em>right</em><span class="sig-paren">)</span><a class="headerlink" href="#c.KUNIT_ASSERT_LT" title="Permalink to this definition">¶</a></dt>
<dd><p>An assertion that <strong>left</strong> is less than <strong>right</strong>.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">left</span></code></dt>
<dd>an arbitrary expression that evaluates to a primitive C type.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">right</span></code></dt>
<dd>an arbitrary expression that evaluates to a primitive C type.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Sets an assertion that the value that <strong>left</strong> evaluates to is less than the
value that <strong>right</strong> evaluates to. This is the same as <a class="reference internal" href="#c.KUNIT_EXPECT_LT" title="KUNIT_EXPECT_LT"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_EXPECT_LT()</span></code></a>, except
it causes an assertion failure (see <a class="reference internal" href="#c.KUNIT_ASSERT_TRUE" title="KUNIT_ASSERT_TRUE"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_ASSERT_TRUE()</span></code></a>) when the assertion
is not met.</p>
<dl class="function">
<dt id="c.KUNIT_ASSERT_LE">
<code class="descname">KUNIT_ASSERT_LE</code><span class="sig-paren">(</span><em>test</em>, <em>left</em>, <em>right</em><span class="sig-paren">)</span><a class="headerlink" href="#c.KUNIT_ASSERT_LE" title="Permalink to this definition">¶</a></dt>
<dd><p>An assertion that <strong>left</strong> is less than or equal to <strong>right</strong>.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">left</span></code></dt>
<dd>an arbitrary expression that evaluates to a primitive C type.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">right</span></code></dt>
<dd>an arbitrary expression that evaluates to a primitive C type.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Sets an assertion that the value that <strong>left</strong> evaluates to is less than or
equal to the value that <strong>right</strong> evaluates to. This is the same as
<a class="reference internal" href="#c.KUNIT_EXPECT_LE" title="KUNIT_EXPECT_LE"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_EXPECT_LE()</span></code></a>, except it causes an assertion failure (see
<a class="reference internal" href="#c.KUNIT_ASSERT_TRUE" title="KUNIT_ASSERT_TRUE"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_ASSERT_TRUE()</span></code></a>) when the assertion is not met.</p>
<dl class="function">
<dt id="c.KUNIT_ASSERT_GT">
<code class="descname">KUNIT_ASSERT_GT</code><span class="sig-paren">(</span><em>test</em>, <em>left</em>, <em>right</em><span class="sig-paren">)</span><a class="headerlink" href="#c.KUNIT_ASSERT_GT" title="Permalink to this definition">¶</a></dt>
<dd><p>An assertion that <strong>left</strong> is greater than <strong>right</strong>.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">left</span></code></dt>
<dd>an arbitrary expression that evaluates to a primitive C type.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">right</span></code></dt>
<dd>an arbitrary expression that evaluates to a primitive C type.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Sets an assertion that the value that <strong>left</strong> evaluates to is greater than the
value that <strong>right</strong> evaluates to. This is the same as <a class="reference internal" href="#c.KUNIT_EXPECT_GT" title="KUNIT_EXPECT_GT"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_EXPECT_GT()</span></code></a>, except
it causes an assertion failure (see <a class="reference internal" href="#c.KUNIT_ASSERT_TRUE" title="KUNIT_ASSERT_TRUE"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_ASSERT_TRUE()</span></code></a>) when the assertion
is not met.</p>
<dl class="function">
<dt id="c.KUNIT_ASSERT_GE">
<code class="descname">KUNIT_ASSERT_GE</code><span class="sig-paren">(</span><em>test</em>, <em>left</em>, <em>right</em><span class="sig-paren">)</span><a class="headerlink" href="#c.KUNIT_ASSERT_GE" title="Permalink to this definition">¶</a></dt>
<dd><p>Assertion that <strong>left</strong> is greater than or equal to <strong>right</strong>.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">left</span></code></dt>
<dd>an arbitrary expression that evaluates to a primitive C type.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">right</span></code></dt>
<dd>an arbitrary expression that evaluates to a primitive C type.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Sets an assertion that the value that <strong>left</strong> evaluates to is greater than the
value that <strong>right</strong> evaluates to. This is the same as <a class="reference internal" href="#c.KUNIT_EXPECT_GE" title="KUNIT_EXPECT_GE"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_EXPECT_GE()</span></code></a>, except
it causes an assertion failure (see <a class="reference internal" href="#c.KUNIT_ASSERT_TRUE" title="KUNIT_ASSERT_TRUE"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_ASSERT_TRUE()</span></code></a>) when the assertion
is not met.</p>
<dl class="function">
<dt id="c.KUNIT_ASSERT_STREQ">
<code class="descname">KUNIT_ASSERT_STREQ</code><span class="sig-paren">(</span><em>test</em>, <em>left</em>, <em>right</em><span class="sig-paren">)</span><a class="headerlink" href="#c.KUNIT_ASSERT_STREQ" title="Permalink to this definition">¶</a></dt>
<dd><p>An assertion that strings <strong>left</strong> and <strong>right</strong> are equal.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">left</span></code></dt>
<dd>an arbitrary expression that evaluates to a null terminated string.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">right</span></code></dt>
<dd>an arbitrary expression that evaluates to a null terminated string.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Sets an assertion that the values that <strong>left</strong> and <strong>right</strong> evaluate to are
equal. This is the same as <a class="reference internal" href="#c.KUNIT_EXPECT_STREQ" title="KUNIT_EXPECT_STREQ"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_EXPECT_STREQ()</span></code></a>, except it causes an
assertion failure (see <a class="reference internal" href="#c.KUNIT_ASSERT_TRUE" title="KUNIT_ASSERT_TRUE"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_ASSERT_TRUE()</span></code></a>) when the assertion is not met.</p>
<dl class="function">
<dt id="c.KUNIT_ASSERT_STRNEQ">
<code class="descname">KUNIT_ASSERT_STRNEQ</code><span class="sig-paren">(</span><em>test</em>, <em>left</em>, <em>right</em><span class="sig-paren">)</span><a class="headerlink" href="#c.KUNIT_ASSERT_STRNEQ" title="Permalink to this definition">¶</a></dt>
<dd><p>Expects that strings <strong>left</strong> and <strong>right</strong> are not equal.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">left</span></code></dt>
<dd>an arbitrary expression that evaluates to a null terminated string.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">right</span></code></dt>
<dd>an arbitrary expression that evaluates to a null terminated string.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Sets an expectation that the values that <strong>left</strong> and <strong>right</strong> evaluate to are
not equal. This is semantically equivalent to
KUNIT_ASSERT_TRUE(<strong>test</strong>, strcmp((<strong>left</strong>), (<strong>right</strong>))). See <a class="reference internal" href="#c.KUNIT_ASSERT_TRUE" title="KUNIT_ASSERT_TRUE"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_ASSERT_TRUE()</span></code></a>
for more information.</p>
<dl class="function">
<dt id="c.KUNIT_ASSERT_NOT_ERR_OR_NULL">
<code class="descname">KUNIT_ASSERT_NOT_ERR_OR_NULL</code><span class="sig-paren">(</span><em>test</em>, <em>ptr</em><span class="sig-paren">)</span><a class="headerlink" href="#c.KUNIT_ASSERT_NOT_ERR_OR_NULL" title="Permalink to this definition">¶</a></dt>
<dd><p>Assertion that <strong>ptr</strong> is not null and not err.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">test</span></code></dt>
<dd>The test context object.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ptr</span></code></dt>
<dd>an arbitrary pointer.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Sets an assertion that the value that <strong>ptr</strong> evaluates to is not null and not
an errno stored in a pointer. This is the same as
<a class="reference internal" href="#c.KUNIT_EXPECT_NOT_ERR_OR_NULL" title="KUNIT_EXPECT_NOT_ERR_OR_NULL"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_EXPECT_NOT_ERR_OR_NULL()</span></code></a>, except it causes an assertion failure (see
<a class="reference internal" href="#c.KUNIT_ASSERT_TRUE" title="KUNIT_ASSERT_TRUE"><code class="xref c c-func docutils literal notranslate"><span class="pre">KUNIT_ASSERT_TRUE()</span></code></a>) when the assertion is not met.</p>
<dl class="function">
<dt id="c.KUNIT_ARRAY_PARAM">
<code class="descname">KUNIT_ARRAY_PARAM</code><span class="sig-paren">(</span><em>name</em>, <em>array</em>, <em>get_desc</em><span class="sig-paren">)</span><a class="headerlink" href="#c.KUNIT_ARRAY_PARAM" title="Permalink to this definition">¶</a></dt>
<dd><p>Define test parameter generator from an array.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">name</span></code></dt>
<dd>prefix for the test parameter generator function.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">array</span></code></dt>
<dd>array of test parameters.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">get_desc</span></code></dt>
<dd>function to convert param to description; NULL to use default</dd>
</dl>
<p><strong>Description</strong></p>
<p>Define function <strong>name_gen_params</strong> which uses <strong>array</strong> to generate parameters.</p>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../style.html" class="btn btn-neutral float-right" title="Test Style and Nomenclature" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="API Reference" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'5.18.0-rc1-torvalds+',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>